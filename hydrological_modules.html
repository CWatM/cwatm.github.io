
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>hydrological_modules package &#8212; Community Water Model</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="management_modules package" href="management_modules.html" />
    <link rel="prev" title="cwatm_initial module" href="cwatm_initial.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="management_modules.html" title="management_modules package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cwatm_initial.html" title="cwatm_initial module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CWAT Model</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="sourcecode.html" accesskey="U">12. Source code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hydrological-modules-package">
<h1>hydrological_modules package<a class="headerlink" href="#hydrological-modules-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="initialize">
<h2>Initialize<a class="headerlink" href="#initialize" title="Permalink to this headline">¶</a></h2>
<div class="section" id="miscinitial-module">
<h3>miscInitial module<a class="headerlink" href="#miscinitial-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Initializing some variables</strong></p>
<span class="target" id="module-hydrological_modules.miscInitial"></span><dl class="class">
<dt id="hydrological_modules.miscInitial.miscInitial">
<em class="property">class </em><code class="descclassname">hydrological_modules.miscInitial.</code><code class="descname">miscInitial</code><span class="sig-paren">(</span><em>misc_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/miscInitial.html#miscInitial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.miscInitial.miscInitial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Miscellaneous repeatedly used expressions
Definition if cell area comes from regular grid e.g. 5x5km or from irregular lat/lon
Conversion factors between m3 and mm etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only used in the initial phase.</p>
</div>
<dl class="method">
<dt id="hydrological_modules.miscInitial.miscInitial.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/miscInitial.html#miscInitial.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.miscInitial.miscInitial.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization of some basic parameters e.g. cellArea</p>
<ul class="simple">
<li>grid area, length definition</li>
<li>conversion factors</li>
<li>conversion factors for precipitation and pot evaporation</li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="initcondition-module">
<h3>initcondition module<a class="headerlink" href="#initcondition-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Load initial storage parameter maps</strong></p>
<span class="target" id="module-hydrological_modules.initcondition"></span><dl class="class">
<dt id="hydrological_modules.initcondition.initcondition">
<em class="property">class </em><code class="descclassname">hydrological_modules.initcondition.</code><code class="descname">initcondition</code><span class="sig-paren">(</span><em>initcondition_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/initcondition.html#initcondition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.initcondition.initcondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ/WRITE INITIAL CONDITIONS
all initial condition can be stored at the end of a run to be used as a <strong>warm</strong> start for a following up run</p>
<dl class="method">
<dt id="hydrological_modules.initcondition.initcondition.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/initcondition.html#initcondition.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.initcondition.initcondition.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the initcondition module
write initital conditions into a single netcdf file</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Several dates can be stored in different netcdf files</p>
</div>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.initcondition.initcondition.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/initcondition.html#initcondition.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.initcondition.initcondition.initial" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>initial part of the initcondition module</dt>
<dd><p class="first">Puts all the variables which has to be stored in 2 lists:</p>
<ul class="simple">
<li>initCondVar: the name of the variable in the init netcdf file</li>
<li>initCondVarValue: the variable as it can be read with the ‘eval’ command</li>
</ul>
<p class="last">Reads the parameter <em>save_initial</em> and <em>save_initial</em> to know if to save or load initial values</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.initcondition.initcondition.load_initial">
<code class="descname">load_initial</code><span class="sig-paren">(</span><em>name</em>, <em>default=0.0</em>, <em>number=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/initcondition.html#initcondition.load_initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.initcondition.initcondition.load_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>First it is checked if the initial value is given in the settings file</p>
<ul class="simple">
<li>if it is &lt;&gt; None it is used directly</li>
<li>if None it is loaded from the init netcdf file</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – Name of the init value</li>
<li><strong>default</strong> – default value -&gt; default is 0.0</li>
<li><strong>number</strong> – in case of snow or runoff concentration several layers are included: number = no of the layer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">spatial map or value of initial condition</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="landcovertype-module">
<h3>landcoverType module<a class="headerlink" href="#landcovertype-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Generate landcover types</strong></p>
<span class="target" id="module-hydrological_modules.landcoverType"></span><dl class="class">
<dt id="hydrological_modules.landcoverType.landcoverType">
<em class="property">class </em><code class="descclassname">hydrological_modules.landcoverType.</code><code class="descname">landcoverType</code><span class="sig-paren">(</span><em>landcoverType_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/landcoverType.html#landcoverType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.landcoverType.landcoverType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LAND COVER TYPE</p>
<p>runs the 6 land cover types through soil procedures</p>
<p>This routine calls the soil routine for each land cover type</p>
<dl class="method">
<dt id="hydrological_modules.landcoverType.landcoverType.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/landcoverType.html#landcoverType.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.landcoverType.landcoverType.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the land cover type module</p>
<p>Calculating soil for each of the 6  land cover class</p>
<ul class="simple">
<li>calls evaporation_module.dynamic</li>
<li>calls interception_module.dynamic</li>
<li>calls soil_module.dynamic</li>
<li>calls sealed_water_module.dynamic</li>
</ul>
<p>And sums every thing up depending on the land cover type fraction</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.landcoverType.landcoverType.dynamic_fracIrrigation">
<code class="descname">dynamic_fracIrrigation</code><span class="sig-paren">(</span><em>init=False</em>, <em>dynamic=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/landcoverType.html#landcoverType.dynamic_fracIrrigation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.landcoverType.landcoverType.dynamic_fracIrrigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the land cover type module</p>
<p>Calculating fraction of land cover</p>
<ul class="simple">
<li>loads the fraction of landcover for each year from netcdf maps</li>
<li>calculate the fraction of 6 land cover types based on the maps</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>init</strong> – (optional) True: set for the first time of a run</li>
<li><strong>dynamic</strong> – used in the dynmic run not in the initial phase</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.landcoverType.landcoverType.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/landcoverType.html#landcoverType.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.landcoverType.landcoverType.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the land cover type module
Initialise the six land cover types</p>
<ul class="simple">
<li>Forest</li>
<li>Grasland/non irrigated land</li>
<li>Irrigation</li>
<li>Paddy iirigation</li>
<li>Sealed area</li>
<li>Water covered area</li>
</ul>
<p>And initialize the soil variables</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-i-from-rain-to-soil">
<h2>Hydrology I - from rain to soil<a class="headerlink" href="#hydrology-i-from-rain-to-soil" title="Permalink to this headline">¶</a></h2>
<div class="section" id="readmeteo-module">
<h3>readmeteo module<a class="headerlink" href="#readmeteo-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Read meteorological input data</strong></p>
<span class="target" id="module-hydrological_modules.readmeteo"></span><dl class="class">
<dt id="hydrological_modules.readmeteo.readmeteo">
<em class="property">class </em><code class="descclassname">hydrological_modules.readmeteo.</code><code class="descname">readmeteo</code><span class="sig-paren">(</span><em>readmeteo_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/readmeteo.html#readmeteo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.readmeteo.readmeteo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ METEOROLOGICAL DATA</p>
<p>reads all meteorological data from netcdf4 files</p>
<dl class="method">
<dt id="hydrological_modules.readmeteo.readmeteo.downscaling1">
<code class="descname">downscaling1</code><span class="sig-paren">(</span><em>input</em>, <em>downscale=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/readmeteo.html#readmeteo.downscaling1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.readmeteo.readmeteo.downscaling1" title="Permalink to this definition">¶</a></dt>
<dd><p>Downscaling based on elevation correction for temperature and pressure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> – </li>
<li><strong>downscale</strong> – 0 for no change, 1: for temperature change 6 deg per 1km , 2 for psurf</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">input - downscaled input data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.readmeteo.readmeteo.downscaling2">
<code class="descname">downscaling2</code><span class="sig-paren">(</span><em>input</em>, <em>downscaleName=''</em>, <em>wc2=0</em>, <em>wc4=0</em>, <em>downscale=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/readmeteo.html#readmeteo.downscaling2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.readmeteo.readmeteo.downscaling2" title="Permalink to this definition">¶</a></dt>
<dd><p>Downscaling based on Delta method:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line"><strong>References</strong></div>
<div class="line">Moreno and Hasenauer  2015:</div>
<div class="line"><a class="reference external" href="ftp://palantir.boku.ac.at/Public/ClimateData/Moreno_et_al-2015-International_Journal_of_Climatology.pdf">ftp://palantir.boku.ac.at/Public/ClimateData/Moreno_et_al-2015-International_Journal_of_Climatology.pdf</a></div>
<div class="line">Mosier et al. 2018:</div>
<div class="line"><a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1002/joc.5213/epdf">http://onlinelibrary.wiley.com/doi/10.1002/joc.5213/epdf</a></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> – low input map</li>
<li><strong>downscaleName</strong> – High resolution monthly map from WorldClim</li>
<li><strong>wc2</strong> – High resolution WorldClim map</li>
<li><strong>wc4</strong> – upscaled to low resolution</li>
<li><strong>downscale</strong> – 0 for no change, 1: for temperature , 2 for pprecipitation, 3 for psurf</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">input - downscaled input data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">wc2</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">wc4</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.readmeteo.readmeteo.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/readmeteo.html#readmeteo.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.readmeteo.readmeteo.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the readmeteo module</p>
<p>Read meteo input maps from netcdf files</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If option <em>calc_evaporation</em> is False only precipitation, avg. temp., and 2 evaporation vlaues are read
Otherwise all the variable needed for Penman-Monteith</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If option <em>TemperatureInKelvin</em> = True temperature is assumed to be Kelvin instead of Celsius!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.readmeteo.readmeteo.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/readmeteo.html#readmeteo.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.readmeteo.readmeteo.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of meteo</p>
<p>read multiple file of input</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="inflow-module">
<h3>inflow module<a class="headerlink" href="#inflow-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Read river discharge time series as inflow data</strong></p>
<span class="target" id="module-hydrological_modules.inflow"></span><dl class="class">
<dt id="hydrological_modules.inflow.inflow">
<em class="property">class </em><code class="descclassname">hydrological_modules.inflow.</code><code class="descname">inflow</code><span class="sig-paren">(</span><em>inflow_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/inflow.html#inflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.inflow.inflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ INFLOW HYDROGRAPHS (OPTIONAL)
If option “inflow” is set to 1 the inflow hydrograph code is used otherwise dummy code is used</p>
<dl class="method">
<dt id="hydrological_modules.inflow.inflow.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/inflow.html#inflow.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.inflow.inflow.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the inflow module
Use the inflow points to add inflow from time series file(s)</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.inflow.inflow.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/inflow.html#inflow.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.inflow.inflow.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the inflow module
Get the inflow points</p>
<p>calls function <code class="xref py py-meth docutils literal notranslate"><span class="pre">hydrological_modules.getlocOutpoints()</span></code>
calls function <code class="xref py py-meth docutils literal notranslate"><span class="pre">hydrological_modules.join_struct_arrays2()</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="snow-frost-module">
<h3>snow_frost module<a class="headerlink" href="#snow-frost-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate snow and frost</strong></p>
<span class="target" id="module-hydrological_modules.snow_frost"></span><dl class="class">
<dt id="hydrological_modules.snow_frost.snow">
<em class="property">class </em><code class="descclassname">hydrological_modules.snow_frost.</code><code class="descname">snow</code><span class="sig-paren">(</span><em>snow_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/snow_frost.html#snow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.snow_frost.snow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>RAIN AND SNOW</p>
<p>Domain: snow calculations evaluated for center points of up to 7 sub-pixel
snow zones 1 -7 which each occupy a part of the pixel surface</p>
<p>Variables <em>snow</em> and <em>rain</em> at end of this module are the pixel-average snowfall and rain</p>
<p>Inheritance: <code class="docutils literal notranslate"><span class="pre">inheritance-diagram</span></code></p>
<div class="graphviz"><img src="_images/inheritance-2e81383f1d42fff2db490e7e2dedd1adc49cad72.png" alt="Inheritance diagram of cwatm_initial.CWATModel_ini" usemap="#inheritance4a5d7dd76a" class="inheritance graphviz" /></div>
<map id="inheritance4a5d7dd76a" name="inheritance4a5d7dd76a">
<area shape="rect" id="node1" href="cwatm_initial.html#cwatm_initial.CWATModel_ini" target="_top" title="CWATN initial part" alt="" coords="161,5,276,31"/>
<area shape="rect" id="node2" href="management_modules.html#management_modules.dynamicModel.DynamicModel" target="_top" title="DynamicModel" alt="" coords="5,5,113,31"/>
</map><div class="graphviz"><img src="_images/inheritance-509ac048d0b3c6bb73e709fc30069806fc58a50d.png" alt="Inheritance diagram of hydrological_modules.snow_frost.snow" usemap="#inheritance3aedbacfc4" class="inheritance graphviz" /></div>
<map id="inheritance3aedbacfc4" name="inheritance3aedbacfc4">
<area shape="rect" id="node1" href="#hydrological_modules.snow_frost.snow" target="_top" title="RAIN AND SNOW" alt="" coords="5,5,252,31"/>
</map><span class="target" id="extensions-literal"></span><dl class="method">
<dt id="hydrological_modules.snow_frost.snow.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/snow_frost.html#snow.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.snow_frost.snow.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the snow module</p>
<p>Distinguish between rain/snow and calculates snow melt and glacier melt
The equation is a modification of:</p>
<p class="rubric">References</p>
<p>Speers, D.D., Versteeg, J.D. (1979) Runoff forecasting for reservoir operations - the pastand the future. In: Proceedings 52nd Western Snow Conference, 149-156</p>
<p>Frost index in soil [degree days] based on:</p>
<p class="rubric">References</p>
<p>Molnau and Bissel (1983, A Continuous Frozen Ground Index for Flood Forecasting. In: Maidment, Handbook of Hydrology, p. 7.28, 7.55)</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">calculate sinus shape function for the southern hemisspere</p>
</div>
<p>test of math1</p>
<div class="math">
<p><img src="_images/math/8722107bc4b0b206f195810147815643d1762429.png" alt="a = \sqrt{2}"/></p>
</div></dd></dl>

<dl class="method">
<dt id="hydrological_modules.snow_frost.snow.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/snow_frost.html#snow.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.snow_frost.snow.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the snow and frost module</p>
<ul class="simple">
<li>loads all the parameters for the day-degree approach for rain, snow and snowmelt</li>
<li>loads the parameter for frost</li>
</ul>
<div class="graphviz"><img src="_images/graphviz-1295f4ca2b5527e3ef214bb186c827fe30afbf44.png" alt="digraph foo {
    &quot;snow&quot; -&gt; &quot;initial&quot;;
}" class="graphviz" /></div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evaporationpot-module">
<h3>evaporationPot module<a class="headerlink" href="#evaporationpot-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate potential Evaporation</strong></p>
<span class="target" id="module-hydrological_modules.evaporationPot"></span><dl class="class">
<dt id="hydrological_modules.evaporationPot.evaporationPot">
<em class="property">class </em><code class="descclassname">hydrological_modules.evaporationPot.</code><code class="descname">evaporationPot</code><span class="sig-paren">(</span><em>evaporationPot_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/evaporationPot.html#evaporationPot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.evaporationPot.evaporationPot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>POTENTIAL REFERENCE EVAPO(TRANSPI)RATION
Calculate potential evapotranspiration from climate data mainly based on FAO 56 and LISVAP
Based on Penman Monteith</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e08.htm#penman%20monteith%20equation">http://www.fao.org/docrep/X0490E/x0490e08.htm#penman%20monteith%20equation</a></p>
<p><a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e06.htm">http://www.fao.org/docrep/X0490E/x0490e06.htm</a>  <a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e06.htm">http://www.fao.org/docrep/X0490E/x0490e06.htm</a></p>
<p><a class="reference external" href="https://ec.europa.eu/jrc/en/publication/eur-scientific-and-technical-research-reports/lisvap-evaporation-pre-processor-lisflood-water-balance-and-flood-simulation-model">https://ec.europa.eu/jrc/en/publication/eur-scientific-and-technical-research-reports/lisvap-evaporation-pre-processor-lisflood-water-balance-and-flood-simulation-model</a></p>
<dl class="method">
<dt id="hydrological_modules.evaporationPot.evaporationPot.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/evaporationPot.html#evaporationPot.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.evaporationPot.evaporationPot.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the potential evaporation module
Based on Penman Monteith - FAO 56</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ETRef - potential reference evapotranspiration rate [m/day]
EWRef - potential evaporation rate from water surface [m/day]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.evaporationPot.evaporationPot.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/evaporationPot.html#evaporationPot.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.evaporationPot.evaporationPot.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of evaporation type module
Load inictial parameters</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only run if <em>calc_evaporation</em> is True</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evaporation-module">
<h3>evaporation module<a class="headerlink" href="#evaporation-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate actual evapotranspiration</strong></p>
<span class="target" id="module-hydrological_modules.evaporation"></span><dl class="class">
<dt id="hydrological_modules.evaporation.evaporation">
<em class="property">class </em><code class="descclassname">hydrological_modules.evaporation.</code><code class="descname">evaporation</code><span class="sig-paren">(</span><em>evaporation_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/evaporation.html#evaporation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.evaporation.evaporation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Evaporation module
Calculate potential evaporation and pot. transpiration</p>
<dl class="method">
<dt id="hydrological_modules.evaporation.evaporation.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><em>coverType</em>, <em>No</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/evaporation.html#evaporation.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.evaporation.evaporation.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the soil module</p>
<p>calculating potential Evaporation for each land cover class with kc factor
get crop coefficient, use potential ET, calculate potential bare soil evaporation and transpiration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coverType</strong> – Land cover type: forest, grassland  …</li>
<li><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">potential evaporation from bare soil, potential transpiration</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interception-module">
<h3>interception module<a class="headerlink" href="#interception-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate interception</strong></p>
<span class="target" id="module-hydrological_modules.interception"></span><dl class="class">
<dt id="hydrological_modules.interception.interception">
<em class="property">class </em><code class="descclassname">hydrological_modules.interception.</code><code class="descname">interception</code><span class="sig-paren">(</span><em>interception_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/interception.html#interception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.interception.interception" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>INTERCEPTION</p>
<dl class="method">
<dt id="hydrological_modules.interception.interception.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><em>coverType</em>, <em>No</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/interception.html#interception.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.interception.interception.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the interception module
calculating interception for each land cover class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coverType</strong> – Land cover type: forest, grassland  …</li>
<li><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">interception evaporation, interception storage, reduced pot. transpiration</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sealed-water-module">
<h3>sealed_water module<a class="headerlink" href="#sealed-water-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water runoff from impermeable surface</strong></p>
<span class="target" id="module-hydrological_modules.sealed_water"></span><dl class="class">
<dt id="hydrological_modules.sealed_water.sealed_water">
<em class="property">class </em><code class="descclassname">hydrological_modules.sealed_water.</code><code class="descname">sealed_water</code><span class="sig-paren">(</span><em>sealed_water_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/sealed_water.html#sealed_water"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.sealed_water.sealed_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Sealed and open water runoff</p>
<p>calculated runoff from impermeable surface (sealed) and into water bodies</p>
<dl class="method">
<dt id="hydrological_modules.sealed_water.sealed_water.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><em>coverType</em>, <em>No</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/sealed_water.html#sealed_water.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.sealed_water.sealed_water.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the sealed_water module</p>
<p>runoff calculation for open water and sealed areas</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>coverType</strong> – Land cover type: forest, grassland  …</li>
<li><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-ii-from-soil-to-river">
<h2>Hydrology II - from soil to river<a class="headerlink" href="#hydrology-ii-from-soil-to-river" title="Permalink to this headline">¶</a></h2>
<div class="section" id="soil-module">
<h3>soil module<a class="headerlink" href="#soil-module" title="Permalink to this headline">¶</a></h3>
<p>** Calculate fluxes in 3 layer soil**</p>
<span class="target" id="module-hydrological_modules.soil"></span><dl class="class">
<dt id="hydrological_modules.soil.soil">
<em class="property">class </em><code class="descclassname">hydrological_modules.soil.</code><code class="descname">soil</code><span class="sig-paren">(</span><em>soil_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/soil.html#soil"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.soil.soil" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>SOIL</p>
<p>Caclulation vertical transfer of water based on Arno scheme</p>
<dl class="method">
<dt id="hydrological_modules.soil.soil.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><em>coverType</em>, <em>No</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/soil.html#soil.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.soil.soil.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the soil module</p>
<p>For each of the land cover classes the vertical water transport is simulated
Distribution of water holding capiacity in 3 soil layers based on saturation excess overland flow, preferential flow
Dependend on soil depth, soil hydraulic parameters</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.soil.soil.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/soil.html#soil.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.soil.soil.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the soil module</p>
<ul class="simple">
<li>Initialize all the hydraulic properties of soil</li>
<li>Set soil depth</li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capillarrise-module">
<h3>capillarRise module<a class="headerlink" href="#capillarrise-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate capillar rise from groundwater</strong></p>
<span class="target" id="module-hydrological_modules.capillarRise"></span><dl class="class">
<dt id="hydrological_modules.capillarRise.capillarRise">
<em class="property">class </em><code class="descclassname">hydrological_modules.capillarRise.</code><code class="descname">capillarRise</code><span class="sig-paren">(</span><em>capillarRise_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/capillarRise.html#capillarRise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.capillarRise.capillarRise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>CAPPILAR RISE
calculate cell fraction influenced by capillary rise</p>
<dl class="method">
<dt id="hydrological_modules.capillarRise.capillarRise.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/capillarRise.html#capillarRise.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.capillarRise.capillarRise.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the capillar Rise module
calculate cell fraction influenced by capillary rise
depending on appr. height of groundwater and relative elevation of grid cell</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">capRiseFrac = cell fraction influenced by capillary rise</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="groundwater-module">
<h3>groundwater module<a class="headerlink" href="#groundwater-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate groundwater</strong></p>
<span class="target" id="module-hydrological_modules.groundwater"></span><dl class="class">
<dt id="hydrological_modules.groundwater.groundwater">
<em class="property">class </em><code class="descclassname">hydrological_modules.groundwater.</code><code class="descname">groundwater</code><span class="sig-paren">(</span><em>groundwater_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/groundwater.html#groundwater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.groundwater.groundwater" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>GROUNDWATER</p>
<dl class="method">
<dt id="hydrological_modules.groundwater.groundwater.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/groundwater.html#groundwater.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.groundwater.groundwater.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the groundwater module
Calculate groundweater storage and baseflow</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.groundwater.groundwater.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/groundwater.html#groundwater.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.groundwater.groundwater.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the groundwater module</p>
<ul class="simple">
<li>load parameters from settings file</li>
<li>initial groundwater storage</li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="runoff-concentration-module">
<h3>runoff_concentration module<a class="headerlink" href="#runoff-concentration-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate runoff concentration - from grid cell to grid cell corner</strong></p>
<span class="target" id="module-hydrological_modules.runoff_concentration"></span><dl class="class">
<dt id="hydrological_modules.runoff_concentration.runoff_concentration">
<em class="property">class </em><code class="descclassname">hydrological_modules.runoff_concentration.</code><code class="descname">runoff_concentration</code><span class="sig-paren">(</span><em>runoff_concentration_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/runoff_concentration.html#runoff_concentration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.runoff_concentration.runoff_concentration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Runoff concentration</p>
<p>this is the part between runoff generation and routing
for each gridcell and for each land cover class the generated runoff is concentrated at a corner of a gridcell
this concentration needs some lag-time (and peak time) and leads to diffusion
lag-time/ peak time is calculated using slope, length and land cover class
diffusion is calculated using a triangular-weighting-function</p>
<p><img class="math" src="_images/math/888187a6babfe523f681e320d9a6b2eb56e6464c.png" alt="Q(t) = \sum_{i=0}^{max} c(i) * Q_{\mathrm{GW}} (t - i + 1)"/></p>
<p>where <img class="math" src="_images/math/176e92950a683e2d07c5bd5b238b127186e17552.png" alt="c(i) = \int_{i-1}^{i} {2 \over{max}} - | u - {max \over {2}} | * {4 \over{max^2}} du"/></p>
<p>see also:</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/24040984/transformation-using-triangular-weighting-function-in-python">http://stackoverflow.com/questions/24040984/transformation-using-triangular-weighting-function-in-python</a></p>
<dl class="method">
<dt id="hydrological_modules.runoff_concentration.runoff_concentration.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/runoff_concentration.html#runoff_concentration.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.runoff_concentration.runoff_concentration.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the runoff concentration module</p>
<p>For surface runoff for each land cover class  and for interflow and for baseflow the
runoff concentration time is calculated</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the time demanding part is calculated in a c++ library</p>
</div>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.runoff_concentration.runoff_concentration.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/runoff_concentration.html#runoff_concentration.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.runoff_concentration.runoff_concentration.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the  runoff concentration module</p>
<p>Setting the peak time for:</p>
<ul class="simple">
<li>surface runoff = 3</li>
<li>interflow = 4</li>
<li>baseflow = 5</li>
</ul>
<p>based on the slope the concentration time for each land cover type is calculated</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">only if option <strong>includeRunoffConcentration</strong> is TRUE</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-iii-socio-economic-water-demand">
<h2>Hydrology III - Socio-economic - Water demand<a class="headerlink" href="#hydrology-iii-socio-economic-water-demand" title="Permalink to this headline">¶</a></h2>
<div class="section" id="waterdemand-module">
<h3>waterdemand module<a class="headerlink" href="#waterdemand-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water demand from different sectors</strong></p>
<span class="target" id="module-hydrological_modules.waterdemand"></span><dl class="docutils">
<dt>Naming convention:</dt>
<dd><ul class="first last simple">
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="hydrological_modules.waterdemand.waterdemand">
<em class="property">class </em><code class="descclassname">hydrological_modules.waterdemand.</code><code class="descname">waterdemand</code><span class="sig-paren">(</span><em>waterdemand_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterdemand.html#waterdemand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterdemand.waterdemand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND</p>
<p>calculating water demand -
Industrial, domenstic based on precalculated maps
Agricultural water demand based on water need by plants</p>
<dl class="method">
<dt id="hydrological_modules.waterdemand.waterdemand.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterdemand.html#waterdemand.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterdemand.waterdemand.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module</p>
<ul class="simple">
<li>calculate the fraction of water from surface water vs. groundwater</li>
<li>get non-Irrigation water demand and its return flow fraction</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.waterdemand.waterdemand.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterdemand.html#waterdemand.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterdemand.waterdemand.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module</p>
<p>Set the water allocation</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-iv-lakes-reservoirs-and-river">
<h2>Hydrology IV - Lakes, reservoirs and river<a class="headerlink" href="#hydrology-iv-lakes-reservoirs-and-river" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lakes-reservoirs-module">
<h3>lakes_reservoirs module<a class="headerlink" href="#lakes-reservoirs-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water retention in lakes</strong></p>
<span class="target" id="module-hydrological_modules.lakes_reservoirs"></span><dl class="class">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs">
<em class="property">class </em><code class="descclassname">hydrological_modules.lakes_reservoirs.</code><code class="descname">lakes_reservoirs</code><span class="sig-paren">(</span><em>lakes_reservoirs_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LAKES AND RESERVOIRS</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Calculate water retention in lakes and reservoirs</p>
<p>Using the <strong>Modified Puls approach</strong> to calculate retention of a lake
See also: LISFLOOD manual Annex 3 (Burek et al. 2013)</p>
<p>for Modified Puls Method the Q(inflow)1 has to be used. It is assumed that this is the same as Q(inflow)2 for the first timestep
has to be checked if this works in forecasting mode!</p>
<p>Lake Routine using Modified Puls Method (see Maniak, p.331ff)</p>
<p><img class="math" src="_images/math/cf5d9ce04d9159db766d0be7557c3bde44369a7f.png" alt="{Qin1 + Qin2 \over{2}} - {Qout1 + Qout2 \over{2}} = {S2 - S1 \over{\delta time}}"/></p>
<p>changed into:</p>
<p><img class="math" src="_images/math/779a9088732c235d3c6a1351b4e354800eb639c0.png" alt="{S2 \over{time + Qout2/2}} = {S1 \over{dtime + Qout1/2}} - Qout1 + {Qin1 + Qin2 \over{2}}"/></p>
<p>Outgoing discharge (Qout) are linked to storage (S) by elevation.</p>
<p>Now some assumption to make life easier:</p>
<p>1.) storage volume is increase proportional to elevation: S = A * H where: H: elevation, A: area of lake</p>
<p>2.) <img class="math" src="_images/math/7e128e1a8a6f241c585cdadbc9ea238af3252984.png" alt="Q_{\mathrm{out}} = c * b * H^{2.0}"/> (c: weir constant, b: width)</p>
<blockquote>
<div>2.0 because it fits to a parabolic cross section see (Aigner 2008) (and it is much easier to calculate (that’s the main reason)</div></blockquote>
<p>c: for a perfect weir with mu=0.577 and Poleni: <img class="math" src="_images/math/16ae2a03ad6d0d9eee0eb08a1698605d3dce459d.png" alt="{2 \over{3}} \mu * \sqrt{2*g} = 1.7"/></p>
<p>c: for a parabolic weir: around 1.8</p>
<p>because it is a imperfect weir: <img class="math" src="_images/math/dcc4fd5f328db8e74d8916b7d64b2df0a5c4d3ee.png" alt="C = c * 0.85 = 1.5"/></p>
<p>results in formular: <img class="math" src="_images/math/397162cd119add829f32611f571973b6b6935a07.png" alt="Q = 1.5 * b * H^2 = a*H^2 -&gt; H = \sqrt{Q/a}"/></p>
<p>Solving the equation:</p>
<p><img class="math" src="_images/math/04a75f6307cdd1b29de2e50565acc86359023fe7.png" alt="{S2 \over{dtime + Qout2/2}} = {S1 \over{dtime + Qout1/2}} - Qout1 + {Qin1 + Qin2 \over{2}}"/></p>
<p><img class="math" src="_images/math/a81d707f6d2fe9f975c2eaef4d2349067f455e26.png" alt="SI = {S2 \over{dtime}} + {Qout2 \over{2}} = {A*H \over{DtRouting}} + {Q \over{2}} = {A \over{DtRouting*\sqrt{a}* \sqrt{Q}}} + {Q \over{2}}"/></p>
<p>-&gt; replacement: <img class="math" src="_images/math/83ba4810a63c58f01676f07eb9114c31558c658c.png" alt="{A \over{DtSec * \sqrt{a}}} = Lakefactor, Y = \sqrt{Q}"/></p>
<p><img class="math" src="_images/math/ea8f22587ea866ce3ea180ddbc61bf1babe631b6.png" alt="Y^2 + 2 * Lakefactor *Y - 2 * SI=0"/></p>
<p>solution of this quadratic equation:</p>
<p class="last"><img class="math" src="_images/math/73899ebaa83edc11fb3b7278a9b6a08897807aee.png" alt="Q = (-LakeFactor + \sqrt{LakeFactor^2+2*SI})^2"/></p>
</div>
<dl class="method">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part set lakes and reservoirs for each year</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic_inloop">
<code class="descname">dynamic_inloop</code><span class="sig-paren">(</span><em>NoRoutingExecuted</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.dynamic_inloop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic_inloop" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part to calculate outflow from lakes and reservoirs</p>
<ul class="simple">
<li>lakes with modified Puls approach</li>
<li>reservoirs with special filling levels</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>NoRoutingExecuted</strong> – actual number of routing substep</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">outLdd: outflow in m3 to the network</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">outflow to adjected lakes and reservoirs is calculated separately</p>
</div>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs.initWaterbodies">
<code class="descname">initWaterbodies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initWaterbodies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs.initWaterbodies" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize water bodies
Read parameters from maps e.g
area, location, initial average discharge, type 9reservoir or lake) etc.</p>
<p>Compress numpy array from mask map to the size of lakes+reservoirs
(marked as capital C at the end of the variable name)</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_lakes">
<code class="descname">initial_lakes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initial_lakes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_lakes" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the lakes module
Using the <strong>Modified Puls approach</strong> to calculate retention of a lake</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_reservoirs">
<code class="descname">initial_reservoirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initial_reservoirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_reservoirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the reservoir module
Using the appraoch of LISFLOOD</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">LISFLOOD manual Annex 1: (Burek et al. 2013)</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lakes-res-small-module">
<h3>lakes_res_small module<a class="headerlink" href="#lakes-res-small-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water retention in small lakes</strong></p>
<span class="target" id="module-hydrological_modules.lakes_res_small"></span><dl class="class">
<dt id="hydrological_modules.lakes_res_small.lakes_res_small">
<em class="property">class </em><code class="descclassname">hydrological_modules.lakes_res_small.</code><code class="descname">lakes_res_small</code><span class="sig-paren">(</span><em>lakes_res_small_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_res_small.html#lakes_res_small"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_res_small.lakes_res_small" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Small LAKES AND RESERVOIRS</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Calculate water retention in lakes and reservoirs</p>
<p class="last">Using the <strong>Modified Puls approach</strong> to calculate retention of a lake
See also: LISFLOOD manual Annex 3 (Burek et al. 2013)</p>
</div>
<dl class="method">
<dt id="hydrological_modules.lakes_res_small.lakes_res_small.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_res_small.html#lakes_res_small.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_res_small.lakes_res_small.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part to calculate outflow from small lakes and reservoirs</p>
<ul class="simple">
<li>lakes with modified Puls approach</li>
<li>reservoirs with special filling levels</li>
</ul>
<p><strong>Flow out of lake:</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">outflow in m3 to the network</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.lakes_res_small.lakes_res_small.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/lakes_res_small.html#lakes_res_small.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.lakes_res_small.lakes_res_small.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize small lakes and reservoirs
Read parameters from maps e.g
area, location, initial average discharge, type: reservoir or lake) etc.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="routing-reservoirs-routing-kinematic-module">
<h3>routing_reservoirs.routing_kinematic module<a class="headerlink" href="#routing-reservoirs-routing-kinematic-module" title="Permalink to this headline">¶</a></h3>
<p><strong>River routing - kinematic wave</strong></p>
<span class="target" id="module-hydrological_modules.routing_reservoirs.routing_kinematic"></span><dl class="class">
<dt id="hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic">
<em class="property">class </em><code class="descclassname">hydrological_modules.routing_reservoirs.routing_kinematic.</code><code class="descname">routing_kinematic</code><span class="sig-paren">(</span><em>routing_kinematic_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ROUTING</p>
<p>routing using the kinematic wave</p>
<dl class="method">
<dt id="hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the routing module</p>
<ul class="simple">
<li>calculate evaporation from channels</li>
<li>calculate riverbed exchange between riverbed and groundwater</li>
<li>if option <strong>waterbodies</strong> is true, calculate retention from water bodies</li>
<li>calculate sideflow -&gt; inflow to river</li>
<li>calculate kinematic wave -&gt; using C++ library for computational speed</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the routing module</p>
<ul class="simple">
<li>load and create a river network</li>
<li>calculate river network parameter e.g. river length, width, depth, gradient etc.</li>
<li>calculate initial filling</li>
<li>calculate manning’s roughness coefficient</li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="routing-reservoirs-routing-sub-module">
<h3>routing_reservoirs.routing_sub module<a class="headerlink" href="#routing-reservoirs-routing-sub-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Sub routines for river routing</strong></p>
<span class="target" id="module-hydrological_modules.routing_reservoirs.routing_sub"></span><dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.Compress">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">Compress</code><span class="sig-paren">(</span><em>map</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#Compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.Compress" title="Permalink to this definition">¶</a></dt>
<dd><p>compressing map from 2D to 1D without missing values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>map</strong> – input map</li>
<li><strong>mask</strong> – mask map</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">compressed map</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.catchment1">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">catchment1</code><span class="sig-paren">(</span><em>dirUp</em>, <em>points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#catchment1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.catchment1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates all cells which belongs to a catchment from point onward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirUp</strong> – </li>
<li><strong>points</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">subcatchment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.decompress">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">decompress</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#decompress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompressing map from 1D to 2D with missing values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>map</strong> – compressed map</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">decompressed 2D map</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.defLdd2">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">defLdd2</code><span class="sig-paren">(</span><em>ldd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#defLdd2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.defLdd2" title="Permalink to this definition">¶</a></dt>
<dd><p>defines river network</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ldd</strong> – river network</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ldd variables</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.dirDownstream">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">dirDownstream</code><span class="sig-paren">(</span><em>dirUp</em>, <em>lddcomp</em>, <em>dirDown</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#dirDownstream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.dirDownstream" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the river network tree downstream - from source to outlet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirUp</strong> – </li>
<li><strong>lddcomp</strong> – </li>
<li><strong>dirDown</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">direction downstream</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.dirUpstream">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">dirUpstream</code><span class="sig-paren">(</span><em>dirshort</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#dirUpstream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.dirUpstream" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the network tree upstream from outlet to source</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dirshort</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">direction upstream</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.downstream1">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">downstream1</code><span class="sig-paren">(</span><em>dirUp</em>, <em>weight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#downstream1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.downstream1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculated 1 cell downstream</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirUp</strong> – </li>
<li><strong>weight</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dowmnstream 1 cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.lddrepair">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">lddrepair</code><span class="sig-paren">(</span><em>lddnp</em>, <em>lddOrder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#lddrepair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.lddrepair" title="Permalink to this definition">¶</a></dt>
<dd><p>repairs a river network</p>
<ul class="simple">
<li>eliminate unsound parts</li>
<li>add pits at points with no connections</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lddnp</strong> – rivernetwork as 1D array</li>
<li><strong>lddOrder</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">repaired ldd</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.postorder">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">postorder</code><span class="sig-paren">(</span><em>dirUp</em>, <em>catchment</em>, <em>node</em>, <em>catch</em>, <em>dirDown</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#postorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.postorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to run a postoder tree traversal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirUp</strong> – </li>
<li><strong>catchment</strong> – </li>
<li><strong>node</strong> – </li>
<li><strong>catch</strong> – </li>
<li><strong>dirDown</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dirDown and catchment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.subcatchment1">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">subcatchment1</code><span class="sig-paren">(</span><em>dirUp</em>, <em>points</em>, <em>ups</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#subcatchment1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.subcatchment1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates subcatchments of points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirUp</strong> – </li>
<li><strong>points</strong> – </li>
<li><strong>ups</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">subcatchment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.upstream1">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">upstream1</code><span class="sig-paren">(</span><em>downstruct</em>, <em>weight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#upstream1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.upstream1" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates 1 cell upstream</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>downstruct</strong> – </li>
<li><strong>weight</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">upstream 1cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hydrological_modules.routing_reservoirs.routing_sub.upstreamArea">
<code class="descclassname">hydrological_modules.routing_reservoirs.routing_sub.</code><code class="descname">upstreamArea</code><span class="sig-paren">(</span><em>dirDown</em>, <em>dirshort</em>, <em>area</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/routing_reservoirs/routing_sub.html#upstreamArea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.routing_reservoirs.routing_sub.upstreamArea" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates upstream area</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirDown</strong> – array which point from each cell to the next downstream cell</li>
<li><strong>dirshort</strong> – </li>
<li><strong>area</strong> – area in m2 for a single gridcell</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">upstream area</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="hydrology-v-water-balance">
<h2>Hydrology V - Water balance<a class="headerlink" href="#hydrology-v-water-balance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-hydrological_modules.waterbalance">
<span id="waterbalance-module"></span><h3>waterbalance module<a class="headerlink" href="#module-hydrological_modules.waterbalance" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hydrological_modules.waterbalance.waterbalance">
<em class="property">class </em><code class="descclassname">hydrological_modules.waterbalance.</code><code class="descname">waterbalance</code><span class="sig-paren">(</span><em>waterbalance_variable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATER BALANCE</p>
<ul class="simple">
<li>check if water balnace per time step is ok ( = 0)</li>
<li>produce an annual overview - income, outcome storage</li>
</ul>
<dl class="method">
<dt id="hydrological_modules.waterbalance.waterbalance.checkWaterSoilGround">
<code class="descname">checkWaterSoilGround</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance.checkWaterSoilGround"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance.checkWaterSoilGround" title="Permalink to this definition">¶</a></dt>
<dd><p>Check water balance of snow, vegetation, soil, groundwater</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.waterbalance.waterbalance.dynamic">
<code class="descname">dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance.dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water balance module
If option <strong>sumWaterBalance</strong> sum water balance for certain variables</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.waterbalance.waterbalance.initial">
<code class="descname">initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance.initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water balance module</p>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.waterbalance.waterbalance.waterBalanceCheck">
<code class="descname">waterBalanceCheck</code><span class="sig-paren">(</span><em>fluxesIn</em>, <em>fluxesOut</em>, <em>preStorages</em>, <em>endStorages</em>, <em>processName</em>, <em>printTrue=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance.waterBalanceCheck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance.waterBalanceCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water balance module</p>
<p>Returns the water balance for a list of input, output, and storage map files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fluxesIn</strong> – income</li>
<li><strong>fluxesOut</strong> – this goes out</li>
<li><strong>preStorages</strong> – this was in before</li>
<li><strong>endStorages</strong> – this was in afterwards</li>
<li><strong>processName</strong> – name of the process</li>
<li><strong>printTrue</strong> – calculate it?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hydrological_modules.waterbalance.waterbalance.waterBalanceCheckSum">
<code class="descname">waterBalanceCheckSum</code><span class="sig-paren">(</span><em>fluxesIn</em>, <em>fluxesOut</em>, <em>preStorages</em>, <em>endStorages</em>, <em>processName</em>, <em>printTrue=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydrological_modules/waterbalance.html#waterbalance.waterBalanceCheckSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrological_modules.waterbalance.waterbalance.waterBalanceCheckSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the water balance for a list of input, output, and storage map files
and sums it up for a catchment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fluxesIn</strong> – income</li>
<li><strong>fluxesOut</strong> – this goes out</li>
<li><strong>preStorages</strong> – this was in before</li>
<li><strong>endStorages</strong> – this was in afterwards</li>
<li><strong>processName</strong> – name of the process</li>
<li><strong>printTrue</strong> – calculate it?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Water balance as output on the screen</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-hydrological_modules"></span></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/CWATM1.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="modeldesign.html">2. Model Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="publication.html">3. Publication</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">4. Setup of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">6. Demo of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">7. The Model Itself</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">8. Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">9. Calibration tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_tutorial.html">10. Calibration tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">11. License and download info</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="sourcecode.html">12. Source code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#source-code-on-github">Source code on Github</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="sourcecode.html#id1">Source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#download-manual-as-pdf">Download Manual as pdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#global-dataset">Global dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#contact-cwatm">Contact CWATM</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#remarks">Remarks</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cwatm_initial.html"
                        title="previous chapter">cwatm_initial module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="management_modules.html"
                        title="next chapter">management_modules package</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="management_modules.html" title="management_modules package"
             >next</a> |</li>
        <li class="right" >
          <a href="cwatm_initial.html" title="cwatm_initial module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CWAT Model</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="sourcecode.html" >12. Source code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, PB.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>