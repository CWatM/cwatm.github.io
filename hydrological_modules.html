

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>hydrological_modules package &mdash; Community Water Model</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/iiasa.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="management_modules package" href="management_modules.html" />
    <link rel="prev" title="cwatm_initial module" href="cwatm_initial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Community Water Model
          

          
            
            <img src="_static/iiasa_logo_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="modeldesign.html">2. Model Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="publication.html">3. Publication</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">4. Setup of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="errorHandling.html">6. Error handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="listVariables.html">7. List of output variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">8. Demo of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">9. The Model Itself</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">10. Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">11. Calibration tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_tutorial.html">12. Calibration tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="resolution.html">13. Increasing resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="zambezi.html">14. Example Zambezi</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">15. License and download info</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="sourcecode.html">16. Source code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#source-code-on-github">Source code on Github</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="sourcecode.html#id1">Source code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sourcecode.html#modules-of-cwatm">Modules of CWatM</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="sourcecode.html#source-code-description">Source code description</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="run_cwatm.html">run_cwatm</a></li>
<li class="toctree-l4"><a class="reference internal" href="cwatm_model.html">cwatm_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cwatm_dynamic.html">cwatm_dynamic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cwatm_initial.html">cwatm_initial module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">hydrological_modules package</a></li>
<li class="toctree-l4"><a class="reference internal" href="management_modules.html">management_modules package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#download-manual-as-pdf">Download Manual as pdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#global-dataset">Global dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#contact-cwatm">Contact CWatM</a></li>
<li class="toctree-l2"><a class="reference internal" href="sourcecode.html#remarks">Remarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="forum.html">17. Forum</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Community Water Model</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="sourcecode.html"><span class="section-number">16. </span>Source code</a> &raquo;</li>
        
      <li>hydrological_modules package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/hydrological_modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hydrological-modules-package">
<h1>hydrological_modules package<a class="headerlink" href="#hydrological-modules-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="initialize">
<h2>Initialize<a class="headerlink" href="#initialize" title="Permalink to this headline">¶</a></h2>
<div class="section" id="miscinitial-module">
<h3>miscInitial module<a class="headerlink" href="#miscinitial-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Initializing some variables</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.miscInitial"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.miscInitial.miscInitial">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.miscInitial.</span></span><span class="sig-name descname"><span class="pre">miscInitial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/miscInitial.html#miscInitial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.miscInitial.miscInitial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Miscellaneous repeatedly used expressions
Definition if cell area comes from regular grid e.g. 5x5km or from irregular lat/lon
Conversion factors between m3 and mm etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only used in the initial phase.</p>
</div>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>twothird</p></td>
<td><p>2/3</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>MtoM3</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>InvDtSec</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-odd"><td><p>InvCellArea</p></td>
<td><p>Inverse of cell area of each simulated mesh</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-even"><td><p>DtDay</p></td>
<td><p>seconds in a timestep (default=86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>InvDtDay</p></td>
<td><p>inverse seconds in a timestep (default=86400)</p></td>
<td><p>s-1</p></td>
</tr>
<tr class="row-even"><td><p>MMtoM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>MtoMM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>con_precipitation</p></td>
<td><p>conversion factor for precipitation</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>con_e</p></td>
<td><p>conversion factor for evaporation</p></td>
<td><p>–</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.miscInitial.miscInitial.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/miscInitial.html#miscInitial.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.miscInitial.miscInitial.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization of some basic parameters e.g. cellArea</p>
<ul class="simple">
<li><p>grid area, length definition</p></li>
<li><p>conversion factors</p></li>
<li><p>conversion factors for precipitation and pot evaporation</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="initcondition-module">
<h3>initcondition module<a class="headerlink" href="#initcondition-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Load initial storage parameter maps</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.initcondition"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.initcondition.initcondition">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.initcondition.</span></span><span class="sig-name descname"><span class="pre">initcondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/initcondition.html#initcondition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.initcondition.initcondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ/WRITE INITIAL CONDITIONS
all initial condition can be stored at the end of a run to be used as a <strong>warm</strong> start for a following up run</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>includeCrops</p></td>
<td><p>1=includeCrops option in settings file is True, 0=otherwise</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Crops</p></td>
<td><p>Internal: List of specific crops and Kc/Ky parameters</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Crops_names</p></td>
<td><p>Internal: List of specific crops</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>loadInit</p></td>
<td><p>Flag: if true initial conditions are loaded</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>initLoadFile</p></td>
<td><p>load file name of the initial condition data</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>saveInit</p></td>
<td><p>Flag: if true initial conditions are saved</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>saveInitFile</p></td>
<td><p>save file name of the initial condition data</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>coverTypes</p></td>
<td><p>land cover types - forest - grassland - irrPaddy - irrNonPaddy - water - sealed</p></td>
<td><p>–</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.initcondition.initcondition.crops_initialise">
<span class="sig-name descname"><span class="pre">crops_initialise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xl_settings_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/initcondition.html#initcondition.crops_initialise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.initcondition.initcondition.crops_initialise" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.initcondition.initcondition.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/initcondition.html#initcondition.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.initcondition.initcondition.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the initcondition module
write initital conditions into a single netcdf file</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Several dates can be stored in different netcdf files</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.initcondition.initcondition.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/initcondition.html#initcondition.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.initcondition.initcondition.initial" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>initial part of the initcondition module</dt><dd><p>Puts all the variables which has to be stored in 2 lists:</p>
<ul class="simple">
<li><p>initCondVar: the name of the variable in the init netcdf file</p></li>
<li><p>initCondVarValue: the variable as it can be read with the ‘eval’ command</p></li>
</ul>
<p>Reads the parameter <em>save_initial</em> and <em>save_initial</em> to know if to save or load initial values</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="landcovertype-module">
<h3>landcoverType module<a class="headerlink" href="#landcovertype-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Generate landcover types</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.landcoverType"></span><dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.landcoverType.decompress">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.landcoverType.</span></span><span class="sig-name descname"><span class="pre">decompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nanvalue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/landcoverType.html#decompress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.landcoverType.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompressing CWatM maps from 1D to 2D with missing values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>map</strong> – compressed map</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>decompressed 2D map</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.landcoverType.landcoverType">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.landcoverType.</span></span><span class="sig-name descname"><span class="pre">landcoverType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/landcoverType.html#landcoverType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.landcoverType.landcoverType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LAND COVER TYPE</p>
<p>runs the 6 land cover types through soil procedures</p>
<p>This routine calls the soil routine for each land cover type</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_gwRecharge</p></td>
<td><p>groundwater recharge</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>modflow_timestep</p></td>
<td><p>Chosen ModFlow model timestep (1day, 7days, 30days, etc.)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumed_sum_gwRecharge</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>GWVolumeVariation</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>snowEvap</p></td>
<td><p>total evaporation from snow for a snow layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>maxGWCapRise</p></td>
<td><p>influence of capillary rise above groundwater level</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>minInterceptCap</p></td>
<td><p>Maximum interception read from file for forest and grassland land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>interceptStor</p></td>
<td><p>simulated vegetation interception storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dynamicLandcover</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>staticLandCoverMaps</p></td>
<td><p>1=staticLandCoverMaps in settings file is True, 0=otherwise</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>landcoverSum</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>irrigatedArea_origin</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_interceptStor</p></td>
<td><p>Total of simulated vegetation interception storage including all landcover types</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>minCropKC</p></td>
<td><p>minimum crop factor (default 0.2)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>minTopWaterLayer</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>rootFraction1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>maxRootDepth</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>rootDepth</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>KSat1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>KSat2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>KSat3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>alpha1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>alpha2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>alpha3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lambda1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lambda2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lambda3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>thetas1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>thetas2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>thetas3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>thetar1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>thetar2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>thetar3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuM1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuM2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuInvM1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuInvM2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuInvM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuInvN1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuInvN2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuInvN3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ws1</p></td>
<td><p>Maximum storage capacity in layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>ws2</p></td>
<td><p>Maximum storage capacity in layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>ws3</p></td>
<td><p>Maximum storage capacity in layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>wres1</p></td>
<td><p>Residual storage capacity in layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>wres2</p></td>
<td><p>Residual storage capacity in layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>wres3</p></td>
<td><p>Residual storage capacity in layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>wrange1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wrange2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wrange3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wfc1</p></td>
<td><p>Soil moisture at field capacity in layer 1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wfc2</p></td>
<td><p>Soil moisture at field capacity in layer 2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wfc3</p></td>
<td><p>Soil moisture at field capacity in layer 3</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wwp1</p></td>
<td><p>Soil moisture at wilting point in layer 1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wwp2</p></td>
<td><p>Soil moisture at wilting point in layer 2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wwp3</p></td>
<td><p>Soil moisture at wilting point in layer 3</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>kUnSat3FC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>kunSatFC12</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>kunSatFC23</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>cropCoefficientNC_fi</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>interceptCapNC_filen</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>coverFractionNC_file</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_topwater</p></td>
<td><p>quantity of water on the soil (flooding) (weighted sum for all landcover types)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>sum_soil</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_w1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_w2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_w3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalSto</p></td>
<td><p>Total soil,snow and vegetation storage for each cell including all landcover typ</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>arnoBetaOro</p></td>
<td><p>chosen ModFlow model timestep (1day, 7days, 30days, etc.)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>arnoBeta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>adjRoot</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>maxtopwater</p></td>
<td><p>maximum heigth of topwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>totAvlWater</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>presumed_sum_gwRecha</p></td>
<td><p>Previous groundwater recharge [m/timestep] (used for the ModFlow version)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>pretotalSto</p></td>
<td><p>Previous totalSto</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>sum_actBareSoilEvap</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_openWaterEvap</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_runoff</p></td>
<td><p>Runoff above the soil, more interflow, including all landcover types</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_directRunoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_interflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_availWaterInfilt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_capRiseFromGW</p></td>
<td><p>capillar rise from groundwater to 3rd soil layer (summed up for all land cover c</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_act_irrConsumpti</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_perc3toGW</p></td>
<td><p>percolation from 3rd soil layer to groundwater (summed up for all land cover cla</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_prefFlow</p></td>
<td><p>preferential flow from soil to groundwater (summed up for all land cover classes</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-odd"><td><p>baseflow</p></td>
<td><p>simulated baseflow (= groundwater discharge to river)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>Precipitation</p></td>
<td><p>Precipitation (input for the model)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>coverTypes</p></td>
<td><p>land cover types - forest - grassland - irrPaddy - irrNonPaddy - water - sealed</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>Rain</p></td>
<td><p>Precipitation less snow</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>SnowMelt</p></td>
<td><p>total snow melt from all layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>SnowCover</p></td>
<td><p>snow cover (sum over all layers)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>ElevationStD</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>prevSnowCover</p></td>
<td><p>snow cover of previous day (only for water balance)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>soilLayers</p></td>
<td><p>Number of soil layers</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>soildepth</p></td>
<td><p>Thickness of the first soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>soildepth12</p></td>
<td><p>Total thickness of layer 2 and 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>w1</p></td>
<td><p>Simulated water storage in the layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>w2</p></td>
<td><p>Simulated water storage in the layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>w3</p></td>
<td><p>Simulated water storage in the layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>topwater</p></td>
<td><p>quantity of water above the soil (flooding)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>act_SurfaceWaterAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>addtoevapotrans</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_irrWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_nonIrrConsumptio</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalET</p></td>
<td><p>Total evapotranspiration for each cell including all landcover types</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_actTransTotal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_interceptEvap</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.landcoverType.landcoverType.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/landcoverType.html#landcoverType.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.landcoverType.landcoverType.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the land cover type module</p>
<p>Calculating soil for each of the 6  land cover class</p>
<ul class="simple">
<li><p>calls evaporation_module.dynamic</p></li>
<li><p>calls interception_module.dynamic</p></li>
<li><p>calls soil_module.dynamic</p></li>
<li><p>calls sealed_water_module.dynamic</p></li>
</ul>
<p>And sums every thing up depending on the land cover type fraction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.landcoverType.landcoverType.dynamic_fracIrrigation">
<span class="sig-name descname"><span class="pre">dynamic_fracIrrigation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/landcoverType.html#landcoverType.dynamic_fracIrrigation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.landcoverType.landcoverType.dynamic_fracIrrigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the land cover type module</p>
<p>Calculating fraction of land cover</p>
<ul class="simple">
<li><p>loads the fraction of landcover for each year from netcdf maps</p></li>
<li><p>calculate the fraction of 6 land cover types based on the maps</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init</strong> – (optional) True: set for the first time of a run</p></li>
<li><p><strong>dynamic</strong> – used in the dynmic run not in the initial phase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.landcoverType.landcoverType.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/landcoverType.html#landcoverType.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.landcoverType.landcoverType.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the land cover type module
Initialise the six land cover types</p>
<ul class="simple">
<li><p>Forest No.0</p></li>
<li><p>Grasland/non irrigated land No.1</p></li>
<li><p>Paddy irrigation No.2</p></li>
<li><p>non-Paddy irrigation No.3</p></li>
<li><p>Sealed area No.4</p></li>
<li><p>Water covered area No.5</p></li>
</ul>
<p>And initialize the soil variables</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-i-from-rain-to-soil">
<h2>Hydrology I - from rain to soil<a class="headerlink" href="#hydrology-i-from-rain-to-soil" title="Permalink to this headline">¶</a></h2>
<div class="section" id="readmeteo-module">
<h3>readmeteo module<a class="headerlink" href="#readmeteo-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Read meteorological input data</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.readmeteo"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.readmeteo.readmeteo">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.readmeteo.</span></span><span class="sig-name descname"><span class="pre">readmeteo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/readmeteo.html#readmeteo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.readmeteo.readmeteo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ METEOROLOGICAL DATA</p>
<p>reads all meteorological data from netcdf4 files</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>modflowsteady</p></td>
<td><p>True if modflow_steadystate = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>DtDay</p></td>
<td><p>seconds in a timestep (default=86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>con_precipitation</p></td>
<td><p>conversion factor for precipitation</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>con_e</p></td>
<td><p>conversion factor for evaporation</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>TMin</p></td>
<td><p>minimum air temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>TMax</p></td>
<td><p>maximum air temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>Psurf</p></td>
<td><p>Instantaneous surface pressure</p></td>
<td><p>Pa</p></td>
</tr>
<tr class="row-even"><td><p>Qair</p></td>
<td><p>specific humidity</p></td>
<td><p>kg/kg</p></td>
</tr>
<tr class="row-odd"><td><p>Tavg</p></td>
<td><p>average air Temperature (input for the model)</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>Rsdl</p></td>
<td><p>long wave downward surface radiation fluxes</p></td>
<td><p>W/m2</p></td>
</tr>
<tr class="row-odd"><td><p>Rsds</p></td>
<td><p>short wave downward surface radiation fluxes</p></td>
<td><p>W/m2</p></td>
</tr>
<tr class="row-even"><td><p>Wind</p></td>
<td><p>wind speed</p></td>
<td><p>m/s</p></td>
</tr>
<tr class="row-odd"><td><p>ETRef</p></td>
<td><p>potential evapotranspiration rate from reference crop</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>Precipitation</p></td>
<td><p>Precipitation (input for the model)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>meteomapsscale</p></td>
<td><p>if meteo maps have the same extend as the other spatial static maps -&gt; meteomaps</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>meteodown</p></td>
<td><p>if meteo maps should be downscaled</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>preMaps</p></td>
<td><p>choose between steady state precipitation maps for steady state modflow or norma</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>tempMaps</p></td>
<td><p>choose between steady state temperature maps for steady state modflow or normal</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>evaTMaps</p></td>
<td><p>choose between steady state ETP water maps for steady state modflow or normal ma</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>eva0Maps</p></td>
<td><p>choose between steady state ETP reference maps for steady state modflow or norma</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>wc2_tavg</p></td>
<td><p>High resolution WorldClim map for average temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>wc4_tavg</p></td>
<td><p>upscaled to low resolution WorldClim map for average temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>wc2_tmin</p></td>
<td><p>High resolution WorldClim map for min temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>wc4_tmin</p></td>
<td><p>upscaled to low resolution WorldClim map for min temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>wc2_tmax</p></td>
<td><p>High resolution WorldClim map for max temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>wc4_tmax</p></td>
<td><p>upscaled to low resolution WorldClim map for max temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>wc2_prec</p></td>
<td><p>High resolution WorldClim map for precipitation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>wc4_prec</p></td>
<td><p>upscaled to low resolution WorldClim map for precipitation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>prec</p></td>
<td><p>precipitation in m</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>temp</p></td>
<td><p>average temperature in Celsius deg</p></td>
<td><p>Celcius d</p></td>
</tr>
<tr class="row-even"><td><p>WtoMJ</p></td>
<td><p>Conversion factor from [W] to [MJ] for radiation: 86400 * 1E-6</p></td>
<td><p>–</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.readmeteo.readmeteo.downscaling2">
<span class="sig-name descname"><span class="pre">downscaling2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downscaleName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wc2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wc4</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/readmeteo.html#readmeteo.downscaling2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.readmeteo.readmeteo.downscaling2" title="Permalink to this definition">¶</a></dt>
<dd><p>Downscaling based on Delta method:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line"><strong>References</strong></div>
<div class="line">Moreno and Hasenauer  2015:</div>
<div class="line"><a class="reference external" href="ftp://palantir.boku.ac.at/Public/ClimateData/Moreno_et_al-2015-International_Journal_of_Climatology.pdf">ftp://palantir.boku.ac.at/Public/ClimateData/Moreno_et_al-2015-International_Journal_of_Climatology.pdf</a></div>
<div class="line">Mosier et al. 2018:</div>
<div class="line"><a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1002/joc.5213/epdf">http://onlinelibrary.wiley.com/doi/10.1002/joc.5213/epdf</a></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> – low input map</p></li>
<li><p><strong>downscaleName</strong> – High resolution monthly map from WorldClim</p></li>
<li><p><strong>wc2</strong> – High resolution WorldClim map</p></li>
<li><p><strong>wc4</strong> – upscaled to low resolution</p></li>
<li><p><strong>downscale</strong> – 0 for no change, 1: for temperature , 2 for pprecipitation, 3 for psurf</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>input - downscaled input data</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>wc2</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>wc4</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.readmeteo.readmeteo.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/readmeteo.html#readmeteo.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.readmeteo.readmeteo.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the readmeteo module</p>
<p>Read meteo input maps from netcdf files</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If option <em>calc_evaporation</em> is False only precipitation, avg. temp., and 2 evaporation vlaues are read
Otherwise all the variable needed for Penman-Monteith</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If option <em>TemperatureInKelvin</em> = True temperature is assumed to be Kelvin instead of Celsius!</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.readmeteo.readmeteo.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/readmeteo.html#readmeteo.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.readmeteo.readmeteo.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of meteo</p>
<p>read multiple file of input</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="inflow-module">
<h3>inflow module<a class="headerlink" href="#inflow-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Read river discharge time series as inflow data</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.inflow"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.inflow.inflow">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.inflow.</span></span><span class="sig-name descname"><span class="pre">inflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/inflow.html#inflow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.inflow.inflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>READ INFLOW HYDROGRAPHS (OPTIONAL)
If option “inflow” is set to 1 the inflow hydrograph code is used otherwise dummy code is used</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sampleInflow</p></td>
<td><p>location of inflow point</p></td>
<td><p>lat/lon</p></td>
</tr>
<tr class="row-odd"><td><p>noinflowpoints</p></td>
<td><p>number of inflow points</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>inflowTs</p></td>
<td><p>inflow time series data</p></td>
<td><p>m3/s</p></td>
</tr>
<tr class="row-odd"><td><p>totalQInM3</p></td>
<td><p>total inflow over time (for mass balance calculation)</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-even"><td><p>inflowM3</p></td>
<td><p>inflow to basin</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-odd"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>QInM3Old</p></td>
<td><p>Inflow from previous day</p></td>
<td><p>m3</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.inflow.inflow.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/inflow.html#inflow.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.inflow.inflow.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the inflow module
Use the inflow points to add inflow from time series file(s)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.inflow.inflow.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/inflow.html#inflow.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.inflow.inflow.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the inflow module
Get the inflow points</p>
<p>calls function <code class="xref py py-meth docutils literal notranslate"><span class="pre">hydrological_modules.getlocOutpoints()</span></code>
calls function <code class="xref py py-meth docutils literal notranslate"><span class="pre">hydrological_modules.join_struct_arrays2()</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="snow-frost-module">
<h3>snow_frost module<a class="headerlink" href="#snow-frost-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate snow and frost</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.snow_frost"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.snow_frost.snow_frost">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.snow_frost.</span></span><span class="sig-name descname"><span class="pre">snow_frost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/snow_frost.html#snow_frost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.snow_frost.snow_frost" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>RAIN AND SNOW</p>
<p>Domain: snow calculations evaluated for center points of up to 7 sub-pixel
snow zones 1 -7 which each occupy a part of the pixel surface</p>
<p>Variables <em>snow</em> and <em>rain</em> at end of this module are the pixel-average snowfall and rain</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DtDay</p></td>
<td><p>seconds in a timestep (default=86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>Tavg</p></td>
<td><p>average air Temperature (input for the model)</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>Precipitation</p></td>
<td><p>Precipitation (input for the model)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>Rain</p></td>
<td><p>Precipitation less snow</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>SnowMelt</p></td>
<td><p>total snow melt from all layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>SnowCover</p></td>
<td><p>snow cover (sum over all layers)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>ElevationStD</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>prevSnowCover</p></td>
<td><p>snow cover of previous day (only for water balance)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>numberSnowLayersFloa</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numberSnowLayers</p></td>
<td><p>Number of snow layers (up to 10)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>glaciertransportZone</p></td>
<td><p>Number of layers which can be mimiced as glacier transport zone</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>deltaInvNorm</p></td>
<td><p>Quantile of the normal distribution (for different numbers of snow layers)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>DeltaTSnow</p></td>
<td><p>Temperature lapse rate x std. deviation of elevation</p></td>
<td><p>Celcius d</p></td>
</tr>
<tr class="row-even"><td><p>SnowDayDegrees</p></td>
<td><p>day of the year to degrees: 360/365.25 = 0.9856</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>summerSeasonStart</p></td>
<td><p>day when summer season starts = 165</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>IceDayDegrees</p></td>
<td><p>days of summer (15th June-15th Sept.) to degree: 180/(259-165)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>SnowSeason</p></td>
<td><p>seasonal melt factor</p></td>
<td><p>m (Celciu</p></td>
</tr>
<tr class="row-even"><td><p>TempSnow</p></td>
<td><p>Average temperature at which snow melts</p></td>
<td><p>Celcius d</p></td>
</tr>
<tr class="row-odd"><td><p>SnowFactor</p></td>
<td><p>Multiplier applied to precipitation that falls as snow</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>SnowMeltCoef</p></td>
<td><p>Snow melt coefficient - default: 0.004</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>IceMeltCoef</p></td>
<td><p>Ice melt coefficnet - default  0.007</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>TempMelt</p></td>
<td><p>Average temperature at which snow melts</p></td>
<td><p>Celcius d</p></td>
</tr>
<tr class="row-odd"><td><p>SnowCoverS</p></td>
<td><p>snow cover for each layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>Kfrost</p></td>
<td><p>Snow depth reduction coefficient, (HH, p. 7.28)</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-odd"><td><p>Afrost</p></td>
<td><p>Daily decay coefficient, (Handbook of Hydrology, p. 7.28)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>FrostIndexThreshold</p></td>
<td><p>Degree Days Frost Threshold (stops infiltration, percolation and capillary rise)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>SnowWaterEquivalent</p></td>
<td><p>Snow water equivalent, (based on snow density of 450 kg/m3) (e.g. Tarboton and L</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>FrostIndex</p></td>
<td><p>FrostIndex - Molnau and Bissel (1983), A Continuous Frozen Ground Index for Floo</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>extfrostindex</p></td>
<td><p>Flag for second frostindex</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>FrostIndexThreshold2</p></td>
<td><p>FrostIndex2 - Molnau and Bissel (1983), A Continuous Frozen Ground Index for Flo</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>frostInd1</p></td>
<td><p>forstindex 1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>frostInd2</p></td>
<td><p>frostindex 2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>frostindexS</p></td>
<td><p>array for frostindex</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Snow</p></td>
<td><p>Snow (equal to a part of Precipitation)</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.snow_frost.snow_frost.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/snow_frost.html#snow_frost.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.snow_frost.snow_frost.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the snow module</p>
<p>Distinguish between rain/snow and calculates snow melt and glacier melt
The equation is a modification of:</p>
<p class="rubric">References</p>
<p>Speers, D.D., Versteeg, J.D. (1979) Runoff forecasting for reservoir operations - the pastand the future. In: Proceedings 52nd Western Snow Conference, 149-156</p>
<p>Frost index in soil [degree days] based on:</p>
<p class="rubric">References</p>
<p>Molnau and Bissel (1983, A Continuous Frozen Ground Index for Flood Forecasting. In: Maidment, Handbook of Hydrology, p. 7.28, 7.55)</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>calculate sinus shape function for the southern hemisspere</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.snow_frost.snow_frost.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/snow_frost.html#snow_frost.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.snow_frost.snow_frost.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the snow and frost module</p>
<ul class="simple">
<li><p>loads all the parameters for the day-degree approach for rain, snow and snowmelt</p></li>
<li><p>loads the parameter for frost</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evaporationpot-module">
<h3>evaporationPot module<a class="headerlink" href="#evaporationpot-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate potential Evaporation</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.evaporationPot"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.evaporationPot.</span></span><span class="sig-name descname"><span class="pre">evaporationPot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>POTENTIAL REFERENCE EVAPO(TRANSPI)RATION
Calculate potential evapotranspiration from climate data mainly based on FAO 56 and LISVAP
Based on Penman Monteith</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e08.htm#penman%20monteith%20equation">http://www.fao.org/docrep/X0490E/x0490e08.htm#penman%20monteith%20equation</a>
<a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e06.htm">http://www.fao.org/docrep/X0490E/x0490e06.htm</a>  <a class="reference external" href="http://www.fao.org/docrep/X0490E/x0490e06.htm">http://www.fao.org/docrep/X0490E/x0490e06.htm</a>
<a class="reference external" href="https://ec.europa.eu/jrc/en/publication/eur-scientific-and-technical-research-reports/lisvap-evaporation-pre-processor-lisflood-water-balance-and-flood-simulation-model">https://ec.europa.eu/jrc/en/publication/eur-scientific-and-technical-research-reports/lisvap-evaporation-pre-processor-lisflood-water-balance-and-flood-simulation-model</a></p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cropCorrect</p></td>
<td><p>calibrated factor of crop KC factor</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>pet_modus</p></td>
<td><p>Flag: index which ETP approach is used e.g. 1 for Penman-Monteith</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>AlbedoCanopy</p></td>
<td><p>Albedo of vegetation canopy (FAO,1998) default =0.23</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>AlbedoSoil</p></td>
<td><p>Albedo of bare soil surface (Supit et. al. 1994) default = 0.15</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>AlbedoWater</p></td>
<td><p>Albedo of water surface (Supit et. al. 1994) default = 0.05</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>co2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>albedoLand</p></td>
<td><p>albedo from land surface (from GlobAlbedo database)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>albedoOpenWater</p></td>
<td><p>albedo from open water surface (from GlobAlbedo database)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>TMin</p></td>
<td><p>minimum air temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>TMax</p></td>
<td><p>maximum air temperature</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-even"><td><p>Psurf</p></td>
<td><p>Instantaneous surface pressure</p></td>
<td><p>Pa</p></td>
</tr>
<tr class="row-odd"><td><p>Qair</p></td>
<td><p>specific humidity</p></td>
<td><p>kg/kg</p></td>
</tr>
<tr class="row-even"><td><p>Tavg</p></td>
<td><p>average air Temperature (input for the model)</p></td>
<td><p>K</p></td>
</tr>
<tr class="row-odd"><td><p>Rsdl</p></td>
<td><p>long wave downward surface radiation fluxes</p></td>
<td><p>W/m2</p></td>
</tr>
<tr class="row-even"><td><p>Rsds</p></td>
<td><p>short wave downward surface radiation fluxes</p></td>
<td><p>W/m2</p></td>
</tr>
<tr class="row-odd"><td><p>Wind</p></td>
<td><p>wind speed</p></td>
<td><p>m/s</p></td>
</tr>
<tr class="row-even"><td><p>ETRef</p></td>
<td><p>potential evapotranspiration rate from reference crop</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the potential evaporation module</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>ETRef - potential reference evapotranspiration rate [m/day]</p></li>
<li><p>EWRef - potential evaporation rate from water surface [m/day]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_1">
<span class="sig-name descname"><span class="pre">dynamic_1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.dynamic_1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the potential evaporation module
Based on Penman Monteith - FAO 56</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_2">
<span class="sig-name descname"><span class="pre">dynamic_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.dynamic_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the potential evaporation module
2: Milly and Dunne method
P. C. D. Milly* and K. A. Dunne, 2016: Potential evapotranspiration and continental drying, Nature Climate Change, DOI: 10.1038/NCLIMATE3046
Energy only PET = 0.8(Rn ? )   equation 8</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_4">
<span class="sig-name descname"><span class="pre">dynamic_4</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.dynamic_4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.dynamic_4" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the potential evaporation module
4. Priestley-Taylor  1.26 * delat
<a class="reference external" href="https://wetlandscapes.github.io/blog/blog/penman-monteith-and-priestley-taylor/">https://wetlandscapes.github.io/blog/blog/penman-monteith-and-priestley-taylor/</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of evaporation type module
Load inictial parameters</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only run if <em>calc_evaporation</em> is True</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporationPot.evaporationPot.initial_1">
<span class="sig-name descname"><span class="pre">initial_1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporationPot.html#evaporationPot.initial_1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporationPot.evaporationPot.initial_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of evaporation type module
Load initial parameters
1: Penman Monteith
2: Milly and Dunne method
P. C. D. Milly* and K. A. Dunne, 2016: Potential evapotranspiration and continental drying, Nature Climate Change, DOI: 10.1038/NCLIMATE3046
Energy only PET: ET=0.8(Rn ?)   equation 8
3: Yang et al. Penman Montheith correction method
Yang, Y., Roderick, M. L., Zhang, S., McVicar, T. R., and Donohue, R. J.: Hydrologic implications of vegetation response to elevated CO2 in climate projections, Nat. Clim. Change, 9, 44-48, 10.1038/s41558-018-0361-0, 2019.
Equation 14: where the term 2.14 accounts for changing [CO2] on rs</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evaporation-module">
<h3>evaporation module<a class="headerlink" href="#evaporation-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate actual evapotranspiration</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.evaporation"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporation.evaporation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.evaporation.</span></span><span class="sig-name descname"><span class="pre">evaporation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporation.html#evaporation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporation.evaporation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Evaporation module
Calculate potential evaporation and pot. transpiration</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cropKC</p></td>
<td><p>crop coefficient for each of the 4 different land cover types (forest, irrigated</p></td>
<td><p>–</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.evaporation.evaporation.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coverType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">No</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/evaporation.html#evaporation.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.evaporation.evaporation.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the soil module</p>
<p>calculating potential Evaporation for each land cover class with kc factor
get crop coefficient, use potential ET, calculate potential bare soil evaporation and transpiration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coverType</strong> – Land cover type: forest, grassland  …</p></li>
<li><p><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>potential evaporation from bare soil, potential transpiration</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interception-module">
<h3>interception module<a class="headerlink" href="#interception-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate interception</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.interception"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.interception.interception">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.interception.</span></span><span class="sig-name descname"><span class="pre">interception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/interception.html#interception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.interception.interception" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>INTERCEPTION</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>interceptCap</p></td>
<td><p>interception capacity of vegetation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>availWaterInfiltrati</p></td>
<td><p>quantity of water reaching the soil after interception, more snowmelt</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>interceptEvap</p></td>
<td><p>simulated evaporation from water intercepted by vegetation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>potTranspiration</p></td>
<td><p>Potential transpiration (after removing of evaporation)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>snowEvap</p></td>
<td><p>total evaporation from snow for a snow layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>minInterceptCap</p></td>
<td><p>Maximum interception read from file for forest and grassland land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>interceptStor</p></td>
<td><p>simulated vegetation interception storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>twothird</p></td>
<td><p>2/3</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>Rain</p></td>
<td><p>Precipitation less snow</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>SnowMelt</p></td>
<td><p>total snow melt from all layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>actualET</p></td>
<td><p>simulated evapotranspiration from soil, flooded area and vegetation</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.interception.interception.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coverType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">No</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/interception.html#interception.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.interception.interception.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the interception module
calculating interception for each land cover class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coverType</strong> – Land cover type: forest, grassland  …</p></li>
<li><p><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interception evaporation, interception storage, reduced pot. transpiration</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sealed-water-module">
<h3>sealed_water module<a class="headerlink" href="#sealed-water-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water runoff from impermeable surface</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.sealed_water"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.sealed_water.sealed_water">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.sealed_water.</span></span><span class="sig-name descname"><span class="pre">sealed_water</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/sealed_water.html#sealed_water"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.sealed_water.sealed_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Sealed and open water runoff</p>
<p>calculated runoff from impermeable surface (sealed) and into water bodies</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>availWaterInfiltrati</p></td>
<td><p>quantity of water reaching the soil after interception, more snowmelt</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>capillar</p></td>
<td><p>Simulated flow from groundwater to the third CWATM soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>actualET</p></td>
<td><p>simulated evapotranspiration from soil, flooded area and vegetation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>directRunoff</p></td>
<td><p>Simulated surface runoff</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>openWaterEvap</p></td>
<td><p>Simulated evaporation from open areas</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>actTransTotal</p></td>
<td><p>Total actual transpiration from the three soil layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>actBareSoilEvap</p></td>
<td><p>Simulated evaporation from the first soil layer</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.sealed_water.sealed_water.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coverType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">No</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/sealed_water.html#sealed_water.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.sealed_water.sealed_water.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the sealed_water module</p>
<p>runoff calculation for open water and sealed areas</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coverType</strong> – Land cover type: forest, grassland  …</p></li>
<li><p><strong>No</strong> – number of land cover type: forest = 0, grassland = 1 …</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-ii-from-soil-to-river">
<h2>Hydrology II - from soil to river<a class="headerlink" href="#hydrology-ii-from-soil-to-river" title="Permalink to this headline">¶</a></h2>
<div class="section" id="soil-module">
<h3>soil module<a class="headerlink" href="#soil-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate fluxes in 3 layer soil</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.soil"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.soil.soil">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.soil.</span></span><span class="sig-name descname"><span class="pre">soil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/soil.html#soil"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.soil.soil" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><strong>SOIL</strong></p>
<p>Calculation vertical transfer of water based on Arno scheme</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>capRiseFrac</p></td>
<td><p>fraction of a grid cell where capillar rise may happen</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>storGroundwater</p></td>
<td><p>simulated groundwater storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>includeCrops</p></td>
<td><p>1=includeCrops option in settings file is True, 0=otherwise</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Crops</p></td>
<td><p>Internal: List of specific crops and Kc/Ky parameters</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>availWaterInfiltrati</p></td>
<td><p>quantity of water reaching the soil after interception, more snowmelt</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>interceptEvap</p></td>
<td><p>simulated evaporation from water intercepted by vegetation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>potTranspiration</p></td>
<td><p>Potential transpiration (after removing of evaporation)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>snowEvap</p></td>
<td><p>total evaporation from snow for a snow layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>cropKC</p></td>
<td><p>crop coefficient for each of the 4 different land cover types (forest, irrigated</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>rootDepth</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>KSat1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>KSat2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>KSat3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuM1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuM2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuInvM1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>genuInvM2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>genuInvM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ws1</p></td>
<td><p>Maximum storage capacity in layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>ws2</p></td>
<td><p>Maximum storage capacity in layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>ws3</p></td>
<td><p>Maximum storage capacity in layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>wres1</p></td>
<td><p>Residual storage capacity in layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>wres2</p></td>
<td><p>Residual storage capacity in layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>wres3</p></td>
<td><p>Residual storage capacity in layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>wrange1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wrange2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wrange3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wfc1</p></td>
<td><p>Soil moisture at field capacity in layer 1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wfc2</p></td>
<td><p>Soil moisture at field capacity in layer 2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wfc3</p></td>
<td><p>Soil moisture at field capacity in layer 3</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wwp1</p></td>
<td><p>Soil moisture at wilting point in layer 1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wwp2</p></td>
<td><p>Soil moisture at wilting point in layer 2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wwp3</p></td>
<td><p>Soil moisture at wilting point in layer 3</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>kunSatFC12</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>kunSatFC23</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>arnoBeta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>adjRoot</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>maxtopwater</p></td>
<td><p>maximum heigth of topwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>capillar</p></td>
<td><p>Simulated flow from groundwater to the third CWATM soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>FrostIndexThreshold</p></td>
<td><p>Degree Days Frost Threshold (stops infiltration, percolation and capillary rise)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>FrostIndex</p></td>
<td><p>FrostIndex - Molnau and Bissel (1983), A Continuous Frozen Ground Index for Floo</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>actualET</p></td>
<td><p>simulated evapotranspiration from soil, flooded area and vegetation</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>soilLayers</p></td>
<td><p>Number of soil layers</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>soildepth</p></td>
<td><p>Thickness of the first soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>soildepth12</p></td>
<td><p>Total thickness of layer 2 and 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>w1</p></td>
<td><p>Simulated water storage in the layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>w2</p></td>
<td><p>Simulated water storage in the layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>w3</p></td>
<td><p>Simulated water storage in the layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>topwater</p></td>
<td><p>quantity of water above the soil (flooding)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>directRunoff</p></td>
<td><p>Simulated surface runoff</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>interflow</p></td>
<td><p>Simulated flow reaching runoff instead of groundwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>openWaterEvap</p></td>
<td><p>Simulated evaporation from open areas</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>actTransTotal</p></td>
<td><p>Total actual transpiration from the three soil layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>actBareSoilEvap</p></td>
<td><p>Simulated evaporation from the first soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>percolationImp</p></td>
<td><p>Fraction of area covered by the corresponding landcover type</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>cropGroupNumber</p></td>
<td><p>soil water depletion fraction, Van Diepen et al., 1988: WOFOST 6.0, p.86, Dooren</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>cPrefFlow</p></td>
<td><p>Factor influencing preferential flow (flow from surface to GW)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>potBareSoilEvap</p></td>
<td><p>potential bare soil evaporation (calculated with minus snow evaporation)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>totalPotET</p></td>
<td><p>Potential evaporation per land use class</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>rws</p></td>
<td><p>Transpiration reduction factor (in case of water stress)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>prefFlow</p></td>
<td><p>Flow going directly from rainfall to groundwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>infiltration</p></td>
<td><p>Water actually infiltrating the soil</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>capRiseFromGW</p></td>
<td><p>Simulated capillary rise from groundwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>NoSubSteps</p></td>
<td><p>Number of sub steps to calculate soil percolation</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>perc1to2</p></td>
<td><p>Simulated water flow from soil layer 1 to soil layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>perc2to3</p></td>
<td><p>Simulated water flow from soil layer 2 to soil layer 3</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>perc3toGW</p></td>
<td><p>Simulated water flow from soil layer 3 to groundwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>theta1</p></td>
<td><p>fraction of water in soil compartment 1 for each land use class</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>theta2</p></td>
<td><p>fraction of water in soil compartment 2 for each land use class</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>theta3</p></td>
<td><p>fraction of water in soil compartment 3 for each land use class</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>actTransTotal_forest</p></td>
<td><p>Transpiration from forest land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>actTransTotal_grassl</p></td>
<td><p>Transpiration from grasslands land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>actTransTotal_paddy</p></td>
<td><p>Transpiration from paddy land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>actTransTotal_nonpad</p></td>
<td><p>Transpiration from non-paddy land cover</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p><a href="#id2"><span class="problematic" id="id3">actTransTotal_crops_</span></a></p></td>
<td><p>Transpiration associated with specific irrigated crops</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>fracCrops_Irr</p></td>
<td><p>Fraction of cell currently planted with specific irrigated crops</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-even"><td><p>currentKC</p></td>
<td><p>Current crop coefficient for specific crops</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a href="#id4"><span class="problematic" id="id5">actTransTotal_month_</span></a></p></td>
<td><p>Internal variable: Running total of  transpiration for specific irrigated crops</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p><a href="#id6"><span class="problematic" id="id7">actTransTotal_crops_</span></a></p></td>
<td><p>Transpiration associated with specific non-irr crops</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>fracCrops_nonIrr</p></td>
<td><p>Fraction of cell currently planted with specific non-irr crops</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a href="#id8"><span class="problematic" id="id9">actTransTotal_month_</span></a></p></td>
<td><p>Internal variable: Running total of  transpiration for specific non-irrigated cr</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>gwRecharge</p></td>
<td><p>groundwater recharge</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>act_irrConsumption</p></td>
<td><p>actual irrigation water consumption</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.soil.soil.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coverType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">No</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/soil.html#soil.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.soil.soil.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the soil module</p>
<p>For each of the land cover classes the vertical water transport is simulated
Distribution of water holding capiacity in 3 soil layers based on saturation excess overland flow, preferential flow
Dependend on soil depth, soil hydraulic parameters</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.soil.soil.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/soil.html#soil.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.soil.soil.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the soil module</p>
<ul class="simple">
<li><p>Initialize all the hydraulic properties of soil</p></li>
<li><p>Set soil depth</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capillarrise-module">
<h3>capillarRise module<a class="headerlink" href="#capillarrise-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate capillar rise from groundwater</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.capillarRise"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.capillarRise.capillarRise">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.capillarRise.</span></span><span class="sig-name descname"><span class="pre">capillarRise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/capillarRise.html#capillarRise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.capillarRise.capillarRise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>CAPILLAR RISE
calculate cell fraction influenced by capillary rise</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dzRel0100</p></td>
<td><p>map of relative elevation above flood plains (max elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0090</p></td>
<td><p>map of relative elevation above flood plains (90% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dzRel0080</p></td>
<td><p>map of relative elevation above flood plains (80% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0070</p></td>
<td><p>map of relative elevation above flood plains (70% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dzRel0060</p></td>
<td><p>map of relative elevation above flood plains (60% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0050</p></td>
<td><p>map of relative elevation above flood plains (median elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dzRel0040</p></td>
<td><p>map of relative elevation above flood plains (40% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0030</p></td>
<td><p>map of relative elevation above flood plains (30% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dzRel0020</p></td>
<td><p>map of relative elevation above flood plains (20% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0010</p></td>
<td><p>map of relative elevation above flood plains (10% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>dzRel0005</p></td>
<td><p>map of relative elevation above flood plains (5% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>dzRel0001</p></td>
<td><p>map of relative elevation above flood plains (1% elevation above plain)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>capRiseFrac</p></td>
<td><p>fraction of a grid cell where capillar rise may happen</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>storGroundwater</p></td>
<td><p>simulated groundwater storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>specificYield</p></td>
<td><p>groundwater reservoir parameters (if ModFlow is not used) used to compute ground</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>maxGWCapRise</p></td>
<td><p>influence of capillary rise above groundwater level</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.capillarRise.capillarRise.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/capillarRise.html#capillarRise.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.capillarRise.capillarRise.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the capillar Rise module
calculate cell fraction influenced by capillary rise
depending on appr. height of groundwater and relative elevation of grid cell</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>capRiseFrac = cell fraction influenced by capillary rise</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="groundwater-module">
<h3>groundwater module<a class="headerlink" href="#groundwater-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate groundwater</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.groundwater"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.groundwater.groundwater">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.groundwater.</span></span><span class="sig-name descname"><span class="pre">groundwater</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/groundwater.html#groundwater"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.groundwater.groundwater" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>GROUNDWATER</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>storGroundwater</p></td>
<td><p>simulated groundwater storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>specificYield</p></td>
<td><p>groundwater reservoir parameters (if ModFlow is not used) used to compute ground</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>recessionCoeff</p></td>
<td><p>groundwater storage times this coefficient gives baseflow</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>kSatAquifer</p></td>
<td><p>groundwater reservoir parameters (if ModFlow is not used), could be used to comp</p></td>
<td><p>m day-1</p></td>
</tr>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>readAvlStorGroundwat</p></td>
<td><p>same as storGroundwater but equal to 0 when inferior to a treshold</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>pumping_actual</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>prestorGroundwater</p></td>
<td><p>storGroundwater at the beginning of each step</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>sum_gwRecharge</p></td>
<td><p>groundwater recharge</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>modflow</p></td>
<td><p>Flag: True if modflow_coupling = True in settings file</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>gwstore</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>capillar</p></td>
<td><p>Simulated flow from groundwater to the third CWATM soil layer</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>baseflow</p></td>
<td><p>simulated baseflow (= groundwater discharge to river)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>nonFossilGroundwater</p></td>
<td><p>groundwater abstraction which is sustainable and not using fossil resources</p></td>
<td><p>m</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.groundwater.groundwater.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/groundwater.html#groundwater.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.groundwater.groundwater.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the groundwater module
Calculate groundweater storage and baseflow</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.groundwater.groundwater.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/groundwater.html#groundwater.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.groundwater.groundwater.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the groundwater module</p>
<ul class="simple">
<li><p>load parameters from settings file</p></li>
<li><p>initial groundwater storage</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="runoff-concentration-module">
<h3>runoff_concentration module<a class="headerlink" href="#runoff-concentration-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate runoff concentration - from grid cell to grid cell corner</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.runoff_concentration"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.runoff_concentration.runoff_concentration">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.runoff_concentration.</span></span><span class="sig-name descname"><span class="pre">runoff_concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/runoff_concentration.html#runoff_concentration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.runoff_concentration.runoff_concentration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Runoff concentration</p>
<p>this is the part between runoff generation and routing
for each gridcell and for each land cover class the generated runoff is concentrated at a corner of a gridcell
this concentration needs some lag-time (and peak time) and leads to diffusion
lag-time/ peak time is calculated using slope, length and land cover class
diffusion is calculated using a triangular-weighting-function</p>
<p><img class="math" src="_images/math/f2061f0992ae8b1383c5cb7bc3d5dbff59d52b39.png" alt="Q(t) = \sum_{i=0}^{max} c(i) * Q_{\mathrm{GW}} (t - i + 1)"/></p>
<p>where <img class="math" src="_images/math/0fadf8331627eb19e2497d3f00cefc06d39f393e.png" alt="c(i) = \int_{i-1}^{i} {2 \over{max}} - | u - {max \over {2}} | * {4 \over{max^2}} du"/></p>
<p>see also:</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/24040984/transformation-using-triangular-weighting-function-in-python">http://stackoverflow.com/questions/24040984/transformation-using-triangular-weighting-function-in-python</a></p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_interflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>baseflow</p></td>
<td><p>simulated baseflow (= groundwater discharge to river)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>coverTypes</p></td>
<td><p>land cover types - forest - grassland - irrPaddy - irrNonPaddy - water - sealed</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>runoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>runoff_peak</p></td>
<td><p>peak time of runoff in seconds for each land use class</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>tpeak_interflow</p></td>
<td><p>peak time of interflow</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>tpeak_baseflow</p></td>
<td><p>peak time of baseflow</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>maxtime_runoff_conc</p></td>
<td><p>maximum time till all flow is at the outlet</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>runoff_conc</p></td>
<td><p>runoff after concentration - triangular-weighting method</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>gridcell_storage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_landSurfaceRunof</p></td>
<td><p>Runoff concentration above the soil more interflow including all landcover types</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>landSurfaceRunoff</p></td>
<td><p>Runoff concentration above the soil more interflow</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-even"><td><p>directRunoff</p></td>
<td><p>Simulated surface runoff</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>interflow</p></td>
<td><p>Simulated flow reaching runoff instead of groundwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>prergridcell</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.runoff_concentration.runoff_concentration.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/runoff_concentration.html#runoff_concentration.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.runoff_concentration.runoff_concentration.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the runoff concentration module</p>
<p>For surface runoff for each land cover class  and for interflow and for baseflow the
runoff concentration time is calculated</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the time demanding part is calculated in a c++ library</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.runoff_concentration.runoff_concentration.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/runoff_concentration.html#runoff_concentration.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.runoff_concentration.runoff_concentration.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the  runoff concentration module</p>
<p>Setting the peak time for:</p>
<ul class="simple">
<li><p>surface runoff = 3</p></li>
<li><p>interflow = 4</p></li>
<li><p>baseflow = 5</p></li>
</ul>
<p>based on the slope the concentration time for each land cover type is calculated</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>only if option <strong>includeRunoffConcentration</strong> is TRUE</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-iii-socio-economic-water-demand">
<h2>Hydrology III - Socio-economic - Water demand<a class="headerlink" href="#hydrology-iii-socio-economic-water-demand" title="Permalink to this headline">¶</a></h2>
<div class="section" id="water-demand-water-demand">
<h3>water_demand.water_demand<a class="headerlink" href="#water-demand-water-demand" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water demand from different sectors</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.water_demand"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.water_demand.water_demand">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.water_demand.</span></span><span class="sig-name descname"><span class="pre">water_demand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/water_demand.html#water_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.water_demand.water_demand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND</p>
<p>calculating water demand -
Industrial, domenstic based on precalculated maps
Agricultural water demand based on water need by plants</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>domesticDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_domesticConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>envFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>readAvlStorGroundwat</p></td>
<td><p>same as storGroundwater but equal to 0 when inferior to a treshold</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>industryDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>efficiencyPaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>efficiencyNonpaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnfractionIrr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>irrDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>irrPaddyDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>irrNonpaddyDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>waterBodyID</p></td>
<td><p>lakes/reservoirs map with a single ID for each lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>waterBodyBuffer</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>compress_LR</p></td>
<td><p>boolean map as mask map for compressing lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>decompress_LR</p></td>
<td><p>boolean map as mask map for decompressing lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>MtoM3C</p></td>
<td><p>conversion factor from m to m3 (compressed map)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>waterBodyTypCTemp</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>livestockDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pot_livestockConsump</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>MtoM3</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>InvDtSec</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>channelStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>nonFossilGroundwater</p></td>
<td><p>groundwater abstraction which is sustainable and not using fossil resources</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>lakeVolumeM3C</p></td>
<td><p>compressed map of lake volume</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-odd"><td><p>lakeStorageC</p></td>
<td></td>
<td><p>m3</p></td>
</tr>
<tr class="row-even"><td><p>reservoirStorageM3C</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeResStorageC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeVolumeM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_SurfaceWaterAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>addtoevapotrans</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_irrWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_nonIrrConsumptio</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_irrConsumption</p></td>
<td><p>actual irrigation water consumption</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>unmetDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_nonIrrWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnflowIrr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>nonIrrReturnFlowFrac</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>unmet_lost</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_totalWaterWithdr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_bigLakeResAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_smallLakeResAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>modflowPumpingM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>modflowTopography</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>modflowDepth2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>leakageC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>dom_efficiency</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>demand_unit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_industryConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ind_efficiency</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>unmetDemandPaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unmetDemandNonpaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>totalIrrDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>liv_efficiency</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>waterdemandFixed</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>waterdemandFixedYear</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>allocSegments</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>swAbstractionFractio</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>allocation_zone</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>modflowPumping</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>leakage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pumping</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>nonIrruse</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_indDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_domDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_livDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>nonIrrDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalWaterDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_indConsumption</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_domConsumption</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_livConsumption</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_totalIrrConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_totalWaterConsum</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pot_GroundwaterAbstr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_nonIrrConsumptio</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>readAvlChannelStorag</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_channelAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>reservoir_command_ar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>leakageC_daily</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>leakageC_daily_segme</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_irrNonpaddyWithd</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_irrPaddyWithdraw</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_irrPaddyDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_irrNonpaddyDeman</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_indWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_domWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_livWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_paddyConsumption</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_nonpaddyConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>returnflowNonIrr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>unmet_lostirr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unmet_lostNonirr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>waterabstraction</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.water_demand.water_demand.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/water_demand.html#water_demand.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.water_demand.water_demand.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module</p>
<ul class="simple">
<li><p>calculate the fraction of water from surface water vs. groundwater</p></li>
<li><p>get non-Irrigation water demand and its return flow fraction</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.water_demand.water_demand.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/water_demand.html#water_demand.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.water_demand.water_demand.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module</p>
<p>Set the water allocation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water-demand-domestic">
<h3>water_demand.domestic<a class="headerlink" href="#water-demand-domestic" title="Permalink to this headline">¶</a></h3>
<p><strong>Read water demand for domestic</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.domestic"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.domestic.</span></span><span class="sig-name descname"><span class="pre">waterdemand_domestic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/domestic.html#waterdemand_domestic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND domestic</p>
<p>calculating water demand -
domenstic based on precalculated maps</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>domesticTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>domWithdrawalVar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>domConsumptionVar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>domesticDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pot_domesticConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>InvCellArea</p></td>
<td><p>Inverse of cell area of each simulated mesh</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-even"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dom_efficiency</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>demand_unit</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wd_date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/domestic.html#waterdemand_domestic.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module - domestic
read monthly (or yearly) water demand from netcdf and transform (if necessary) to [m/day]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/domestic.html#waterdemand_domestic.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.domestic.waterdemand_domestic.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water-demand-industry">
<h3>water_demand.industry<a class="headerlink" href="#water-demand-industry" title="Permalink to this headline">¶</a></h3>
<p><strong>Read water demand for industry</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.industry"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.industry.waterdemand_industry">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.industry.</span></span><span class="sig-name descname"><span class="pre">waterdemand_industry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/industry.html#waterdemand_industry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.industry.waterdemand_industry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND domestic</p>
<p>calculating water demand -
industry based on precalculated maps</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>industryTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>indWithdrawalVar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>indConsumptionVar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>industryDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>InvCellArea</p></td>
<td><p>Inverse of cell area of each simulated mesh</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-odd"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>demand_unit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_industryConsumpt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ind_efficiency</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.industry.waterdemand_industry.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wd_date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/industry.html#waterdemand_industry.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.industry.waterdemand_industry.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module - industry
read monthly (or yearly) water demand from netcdf and transform (if necessary) to [m/day]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.industry.waterdemand_industry.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/industry.html#waterdemand_industry.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.industry.waterdemand_industry.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module - industry</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water-demand-livestock">
<h3>water_demand.livestock<a class="headerlink" href="#water-demand-livestock" title="Permalink to this headline">¶</a></h3>
<p><strong>Read water demand for livestock</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.livestock"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.livestock.</span></span><span class="sig-name descname"><span class="pre">waterdemand_livestock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/livestock.html#waterdemand_livestock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND livestock</p>
<p>calculating water demand -
livestock based on precalculated maps</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>domesticTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>livestockTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>livVar</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>uselivestock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>livestockDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_livestockConsump</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>InvCellArea</p></td>
<td><p>Inverse of cell area of each simulated mesh</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-odd"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>demand_unit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>liv_efficiency</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wd_date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/livestock.html#waterdemand_livestock.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module - livestock
read monthly (or yearly) water demand from netcdf and transform (if necessary) to [m/day]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/livestock.html#waterdemand_livestock.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.livestock.waterdemand_livestock.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module - livestock</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water-demand-irrigation">
<h3>water_demand.irrigation<a class="headerlink" href="#water-demand-irrigation" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water demand for irrigation</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.irrigation"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.irrigation.</span></span><span class="sig-name descname"><span class="pre">waterdemand_irrigation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/irrigation.html#waterdemand_irrigation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND</p>
<p>calculating water demand - irrigation
Agricultural water demand based on water need by plants</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>availWaterInfiltrati</p></td>
<td><p>quantity of water reaching the soil after interception, more snowmelt</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>cropKC</p></td>
<td><p>crop coefficient for each of the 4 different land cover types (forest, irrigated</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>efficiencyPaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>efficiencyNonpaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnfractionIrr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>alphaDepletion</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pot_irrConsumption</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>irrDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>irrPaddyDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>irrNonpaddyDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>irrNonpaddyDeman</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ws1</p></td>
<td><p>Maximum storage capacity in layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>ws2</p></td>
<td><p>Maximum storage capacity in layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>wfc1</p></td>
<td><p>Soil moisture at field capacity in layer 1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wfc2</p></td>
<td><p>Soil moisture at field capacity in layer 2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wwp1</p></td>
<td><p>Soil moisture at wilting point in layer 1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wwp2</p></td>
<td><p>Soil moisture at wilting point in layer 2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>arnoBeta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>maxtopwater</p></td>
<td><p>maximum heigth of topwater</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>totAvlWater</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>InvCellArea</p></td>
<td><p>Inverse of cell area of each simulated mesh</p></td>
<td><p>m-1</p></td>
</tr>
<tr class="row-even"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>w1</p></td>
<td><p>Simulated water storage in the layer 1</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>w2</p></td>
<td><p>Simulated water storage in the layer 2</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>topwater</p></td>
<td><p>quantity of water above the soil (flooding)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>totalPotET</p></td>
<td><p>Potential evaporation per land use class</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>unmetDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unmetDemandPaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>unmetDemandNonpaddy</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalIrrDemand</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/irrigation.html#waterdemand_irrigation.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module</p>
<ul class="simple">
<li><p>calculate the fraction of water from surface water vs. groundwater</p></li>
<li><p>get non-Irrigation water demand and its return flow fraction</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/irrigation.html#waterdemand_irrigation.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.irrigation.waterdemand_irrigation.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module
irrigation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water-demand-environmental-need">
<h3>water_demand.environmental_need<a class="headerlink" href="#water-demand-environmental-need" title="Permalink to this headline">¶</a></h3>
<p><strong>Read water for environmental need</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.water_demand.environmental_need"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.water_demand.environmental_need.</span></span><span class="sig-name descname"><span class="pre">waterdemand_environmental_need</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/environmental_need.html#waterdemand_environmental_need"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATERDEMAND environment_need</p>
<p>calculating water demand -
environmental need based on precalculated maps done before in CWatM</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cut_ef_map</p></td>
<td><p>if TRUE calculated maps of environmental flow are cut to the extend of the area</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>use_environflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>envFlowm3s</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>envFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>M3toM</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>chanLength</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>channelAlpha</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/environmental_need.html#waterdemand_environmental_need.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water demand module - environment
read monthly (or yearly) water demand from netcdf and transform (if necessary) to [m/day]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/water_demand/environmental_need.html#waterdemand_environmental_need.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.water_demand.environmental_need.waterdemand_environmental_need.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water demand module - environment</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="hydrology-iv-lakes-reservoirs-and-river">
<h2>Hydrology IV - Lakes, reservoirs and river<a class="headerlink" href="#hydrology-iv-lakes-reservoirs-and-river" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lakes-reservoirs-module">
<h3>lakes_reservoirs module<a class="headerlink" href="#lakes-reservoirs-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water retention in lakes</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.lakes_reservoirs"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.lakes_reservoirs.</span></span><span class="sig-name descname"><span class="pre">lakes_reservoirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LAKES AND RESERVOIRS</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calculate water retention in lakes and reservoirs</p>
<p>Using the <strong>Modified Puls approach</strong> to calculate retention of a lake
See also: LISFLOOD manual Annex 3 (Burek et al. 2013)</p>
<p>for Modified Puls Method the Q(inflow)1 has to be used. It is assumed that this is the same as Q(inflow)2 for the first timestep
has to be checked if this works in forecasting mode!</p>
<p>Lake Routine using Modified Puls Method (see Maniak, p.331ff)</p>
<div class="math">
<p><img src="_images/math/196748d723ea6e05cd48911f3d78a5e21a997816.png" alt="{Qin1 + Qin2 \over{2}} - {Qout1 + Qout2 \over{2}} = {S2 - S1 \over{\delta time}}"/></p>
</div><p>changed into:</p>
<div class="math">
<p><img src="_images/math/a47556fc3d0e2b1eec7066154c29b43491710a60.png" alt="{S2 \over{time + Qout2/2}} = {S1 \over{dtime + Qout1/2}} - Qout1 + {Qin1 + Qin2 \over{2}}"/></p>
</div><p>Outgoing discharge (Qout) are linked to storage (S) by elevation.</p>
<p>Now some assumption to make life easier:</p>
<p>1.) storage volume is increase proportional to elevation: S = A * H where: H: elevation, A: area of lake</p>
<p>2.) <img class="math" src="_images/math/2729899ff3a461ed7956a3b6e2f7a06b94969aeb.png" alt="Q_{\mathrm{out}} = c * b * H^{2.0}"/> (c: weir constant, b: width)</p>
<blockquote>
<div><p>2.0 because it fits to a parabolic cross section see (Aigner 2008) (and it is much easier to calculate (that’s the main reason)</p>
</div></blockquote>
<p>c: for a perfect weir with mu=0.577 and Poleni: <img class="math" src="_images/math/9e790c9e792b8e584c2d4fd2f07224403a22f2b8.png" alt="{2 \over{3}} \mu * \sqrt{2*g} = 1.7"/></p>
<p>c: for a parabolic weir: around 1.8</p>
<p>because it is a imperfect weir: <img class="math" src="_images/math/890be26fff3b7f4fc8c48036e774475ba0246745.png" alt="C = c * 0.85 = 1.5"/></p>
<p>results in formular: <img class="math" src="_images/math/b8ba9bac2cfdd23f8365d07c93e23826f25de1db.png" alt="Q = 1.5 * b * H^2 = a*H^2 -&gt; H = \sqrt{Q/a}"/></p>
<p>Solving the equation:</p>
<p><img class="math" src="_images/math/1d6f5bd7b15fef63ba668c339d115917db336bc8.png" alt="{S2 \over{dtime + Qout2/2}} = {S1 \over{dtime + Qout1/2}} - Qout1 + {Qin1 + Qin2 \over{2}}"/></p>
<p><img class="math" src="_images/math/13832db12d0bde93deb4663e9490dd2ca3b71af1.png" alt="SI = {S2 \over{dtime}} + {Qout2 \over{2}} = {A*H \over{DtRouting}} + {Q \over{2}} = {A \over{DtRouting*\sqrt{a}* \sqrt{Q}}} + {Q \over{2}}"/></p>
<p>-&gt; replacement: <img class="math" src="_images/math/672c7bcfe43621cdf639d07ed7d0ac98152cc460.png" alt="{A \over{DtSec * \sqrt{a}}} = Lakefactor, Y = \sqrt{Q}"/></p>
<p><img class="math" src="_images/math/2988de06a952d56aeee164d4b75ea0fc7f0827db.png" alt="Y^2 + 2 * Lakefactor *Y - 2 * SI=0"/></p>
<p>solution of this quadratic equation:</p>
<p><img class="math" src="_images/math/853bf7ef66aeac805059c86cafcd10bf3b06dc9c.png" alt="Q = (-LakeFactor + \sqrt{LakeFactor^2+2*SI})^2"/></p>
</div>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>saveInit</p></td>
<td><p>Flag: if true initial conditions are saved</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>waterBodyID</p></td>
<td><p>lakes/reservoirs map with a single ID for each lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>waterBodyOut</p></td>
<td><p>biggest outlet (biggest accumulation of ldd network) of a waterbody</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dirUp</p></td>
<td><p>river network in upstream direction</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>waterBodyBuffer</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ldd_LR</p></td>
<td><p>change river network (put pits in where lakes are)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>lddCompress_LR</p></td>
<td><p>compressed river network lakes/reservoirs (without missing values)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dirUp_LR</p></td>
<td><p>river network direction upstream lake/reservoirs</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dirupLen_LR</p></td>
<td><p>number of bifurcation upstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dirupID_LR</p></td>
<td><p>index river upstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>downstruct_LR</p></td>
<td><p>river network downstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>catchment_LR</p></td>
<td><p>catchments lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dirDown_LR</p></td>
<td><p>river network direktion downstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>lendirDown_LR</p></td>
<td><p>number of river network connections lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>compress_LR</p></td>
<td><p>boolean map as mask map for compressing lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>decompress_LR</p></td>
<td><p>boolean map as mask map for decompressing lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>waterBodyOutC</p></td>
<td><p>compressed map biggest outlet of each lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>resYearC</p></td>
<td><p>compressed map of the year when the reservoirs is operating</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>waterBodyTypC</p></td>
<td><p>water body types 3 reservoirs and lakes (used as reservoirs but before the year</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>lakeArea</p></td>
<td><p>area of each lake/reservoir</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-odd"><td><p>lakeAreaC</p></td>
<td><p>compressed map of the area of each lake/reservoir</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>lakeDis0</p></td>
<td><p>compressed map average discharge at the outlet of a lake/reservoir</p></td>
<td><p>m3 s-1</p></td>
</tr>
<tr class="row-odd"><td><p>lakeDis0C</p></td>
<td><p>average discharge at the outlet of a lake/reservoir</p></td>
<td><p>m3 s-1</p></td>
</tr>
<tr class="row-even"><td><p>lakeAC</p></td>
<td><p>compressed map of parameter of channel width, gravity and weir coefficient</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>resVolumeC</p></td>
<td><p>compressed map of reservoir volume</p></td>
<td><p>Million m</p></td>
</tr>
<tr class="row-even"><td><p>lakeEvaFactorC</p></td>
<td><p>compressed map of a factor which increases evaporation from lake because of wind</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>reslakeoutflow</p></td>
<td></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>lakeVolume</p></td>
<td><p>volume of lakes</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-odd"><td><p>outLake</p></td>
<td><p>outflow from lakes</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>lakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeInflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeOutflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>reservoirStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>MtoM3C</p></td>
<td><p>conversion factor from m to m3 (compressed map)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>EvapWaterBodyM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeResInflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeResOutflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakedaycorrect</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeFactor</p></td>
<td><p>factor for the Modified Puls approach to calculate retention of the lake</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>lakeFactorSqr</p></td>
<td><p>square root factor for the Modified Puls approach to calculate retention of the</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>lakeInflowOldC</p></td>
<td><p>inflow to the lake from previous days</p></td>
<td><p>m/3</p></td>
</tr>
<tr class="row-even"><td><p>lakeOutflowC</p></td>
<td><p>compressed map of lake outflow</p></td>
<td><p>m3/s</p></td>
</tr>
<tr class="row-odd"><td><p>lakeLevelC</p></td>
<td><p>compressed map of lake level</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>conLimitC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>normLimitC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>floodLimitC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>adjust_Normal_FloodC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>norm_floodLimitC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>minQC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>normQC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>nondmgQC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>deltaO</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>deltaLN</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>deltaLF</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>deltaNFL</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>reservoirFillC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>resStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>waterBodyTypCTemp</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sumEvapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumlakeResInflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sumlakeResOutflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeIn</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeEvapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>resEvapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>downstruct</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>MtoM3</p></td>
<td><p>Coefficient to change units</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>InvDtSec</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>UpArea1</p></td>
<td><p>upstream area of a grid cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-odd"><td><p>lddCompress</p></td>
<td><p>compressed river network (without missing values)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>lakeEvaFactor</p></td>
<td><p>a factor which increases evaporation from lake because of wind</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dtRouting</p></td>
<td><p>number of seconds per routing timestep</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>evapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sumLakeEvapWaterBody</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>noRoutingSteps</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sumResEvapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>discharge</p></td>
<td><p>discharge</p></td>
<td><p>m3/s</p></td>
</tr>
<tr class="row-odd"><td><p>prelakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>runoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeVolumeM3C</p></td>
<td><p>compressed map of lake volume</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-even"><td><p>lakeStorageC</p></td>
<td></td>
<td><p>m3</p></td>
</tr>
<tr class="row-odd"><td><p>reservoirStorageM3C</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeResStorageC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeResStorage</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part set lakes and reservoirs for each year</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic_inloop">
<span class="sig-name descname"><span class="pre">dynamic_inloop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">NoRoutingExecuted</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.dynamic_inloop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.dynamic_inloop" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part to calculate outflow from lakes and reservoirs</p>
<ul class="simple">
<li><p>lakes with modified Puls approach</p></li>
<li><p>reservoirs with special filling levels</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>NoRoutingExecuted</strong> – actual number of routing substep</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>outLdd: outflow in m3 to the network</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>outflow to adjected lakes and reservoirs is calculated separately</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initWaterbodies">
<span class="sig-name descname"><span class="pre">initWaterbodies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initWaterbodies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initWaterbodies" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize water bodies
Read parameters from maps e.g
area, location, initial average discharge, type 9reservoir or lake) etc.</p>
<p>Compress numpy array from mask map to the size of lakes+reservoirs
(marked as capital C at the end of the variable name)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_lakes">
<span class="sig-name descname"><span class="pre">initial_lakes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initial_lakes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_lakes" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the lakes module
Using the <strong>Modified Puls approach</strong> to calculate retention of a lake</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_reservoirs">
<span class="sig-name descname"><span class="pre">initial_reservoirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_reservoirs.html#lakes_reservoirs.initial_reservoirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_reservoirs.lakes_reservoirs.initial_reservoirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the reservoir module
Using the appraoch of LISFLOOD</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>LISFLOOD manual Annex 1: (Burek et al. 2013)</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lakes-res-small-module">
<h3>lakes_res_small module<a class="headerlink" href="#lakes-res-small-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Calculate water retention in small lakes</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.lakes_res_small"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_res_small.lakes_res_small">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.lakes_res_small.</span></span><span class="sig-name descname"><span class="pre">lakes_res_small</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_res_small.html#lakes_res_small"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_res_small.lakes_res_small" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Small LAKES AND RESERVOIRS</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calculate water retention in lakes and reservoirs</p>
<p>Using the <strong>Modified Puls approach</strong> to calculate retention of a lake
See also: LISFLOOD manual Annex 3 (Burek et al. 2013)</p>
</div>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smallpart</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeArea</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeDis0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeA</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeFactor</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeFactorSqr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeInflowOld</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeOutflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeLevel</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>minsmalllakeVolumeM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>preSmalllakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smallLakedaycorrect</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smallLakeIn</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smallevapWaterBody</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smallLakeout</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smallrunoffDiff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>InvDtSec</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>lakeEvaFactor</p></td>
<td><p>a factor which increases evaporation from lake because of wind</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>runoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smalllakeVolumeM3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeStorage</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_res_small.lakes_res_small.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_res_small.html#lakes_res_small.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_res_small.lakes_res_small.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part to calculate outflow from small lakes and reservoirs</p>
<ul class="simple">
<li><p>lakes with modified Puls approach</p></li>
<li><p>reservoirs with special filling levels</p></li>
</ul>
<p><strong>Flow out of lake:</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>outflow in m3 to the network</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.lakes_res_small.lakes_res_small.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/lakes_res_small.html#lakes_res_small.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.lakes_res_small.lakes_res_small.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize small lakes and reservoirs
Read parameters from maps e.g
area, location, initial average discharge, type: reservoir or lake) etc.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="routing-reservoirs-routing-kinematic-module">
<h3>routing_reservoirs.routing_kinematic module<a class="headerlink" href="#routing-reservoirs-routing-kinematic-module" title="Permalink to this headline">¶</a></h3>
<p><strong>River routing - kinematic wave</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.routing_reservoirs.routing_kinematic"></span><dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.</span></span><span class="sig-name descname"><span class="pre">routing_kinematic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ROUTING</p>
<p>routing using the kinematic wave</p>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>load_initial</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>inflowM3</p></td>
<td><p>inflow to basin</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-even"><td><p>waterBodyID</p></td>
<td><p>lakes/reservoirs map with a single ID for each lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dirUp</p></td>
<td><p>river network in upstream direction</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dirupLen_LR</p></td>
<td><p>number of bifurcation upstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>dirupID_LR</p></td>
<td><p>index river upstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dirDown_LR</p></td>
<td><p>river network direktion downstream lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>lendirDown_LR</p></td>
<td><p>number of river network connections lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>compress_LR</p></td>
<td><p>boolean map as mask map for compressing lake/reservoir</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>lakeArea</p></td>
<td><p>area of each lake/reservoir</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>lakeEvaFactorC</p></td>
<td><p>compressed map of a factor which increases evaporation from lake because of wind</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>EvapWaterBodyM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeResInflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeResOutflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>downstruct</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-even"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-odd"><td><p>EWRef</p></td>
<td><p>potential evaporation rate from water surface</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>QInM3Old</p></td>
<td><p>Inflow from previous day</p></td>
<td><p>m3</p></td>
</tr>
<tr class="row-odd"><td><p>UpArea1</p></td>
<td><p>upstream area of a grid cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>lddCompress</p></td>
<td><p>compressed river network (without missing values)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>lakeEvaFactor</p></td>
<td><p>a factor which increases evaporation from lake because of wind</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>dtRouting</p></td>
<td><p>number of seconds per routing timestep</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>evapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumLakeEvapWaterBody</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>noRoutingSteps</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumResEvapWaterBodyC</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>discharge</p></td>
<td><p>discharge</p></td>
<td><p>m3/s</p></td>
</tr>
<tr class="row-even"><td><p>prelakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>catchmentAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumsideflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EvapoChannel</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>prechannelStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>channelStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>chanLength</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>totalCrossSectionAre</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>dirupLen</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>dirupID</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>catchment</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>dirDown</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lendirDown</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>UpArea</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>beta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>chanMan</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>chanGrad</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>chanWidth</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>chanDepth</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>invbeta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>invchanLength</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>invdtRouting</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalCrossSectionAre</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>chanWettedPerimeterA</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>alpPower</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>channelAlpha</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>invchannelAlpha</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>riverbedExchange</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>QDelta</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>inflowDt</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>dis_outlet</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>runoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fracVegCover</p></td>
<td><p>Fraction of specific land covers (0=forest, 1=grasslands, etc.)</p></td>
<td><p>%</p></td>
</tr>
<tr class="row-odd"><td><p>openWaterEvap</p></td>
<td><p>Simulated evaporation from open areas</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>lakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_SurfaceWaterAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>returnFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_bigLakeResAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_smallLakeResAbst</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.catchment">
<span class="sig-name descname"><span class="pre">catchment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic.catchment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.catchment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the catchment from “global”  LDD and a point</p>
<ul class="simple">
<li><p>load and create a river network</p></li>
<li><p>calculate catchment upstream of point</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the routing module</p>
<ul class="simple">
<li><p>calculate evaporation from channels</p></li>
<li><p>calculate riverbed exchange between riverbed and groundwater</p></li>
<li><p>if option <strong>waterbodies</strong> is true, calculate retention from water bodies</p></li>
<li><p>calculate sideflow -&gt; inflow to river</p></li>
<li><p>calculate kinematic wave -&gt; using C++ library for computational speed</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_kinematic.html#routing_kinematic.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_kinematic.routing_kinematic.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the routing module</p>
<ul class="simple">
<li><p>load and create a river network</p></li>
<li><p>calculate river network parameter e.g. river length, width, depth, gradient etc.</p></li>
<li><p>calculate initial filling</p></li>
<li><p>calculate manning’s roughness coefficient</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="routing-reservoirs-routing-sub-module">
<h3>routing_reservoirs.routing_sub module<a class="headerlink" href="#routing-reservoirs-routing-sub-module" title="Permalink to this headline">¶</a></h3>
<p><strong>Sub routines for river routing</strong></p>
<span class="target" id="module-cwatm.hydrological_modules.routing_reservoirs.routing_sub"></span><dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.Compress">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">Compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#Compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.Compress" title="Permalink to this definition">¶</a></dt>
<dd><p>compressing map from 2D to 1D without missing values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> – input map</p></li>
<li><p><strong>mask</strong> – mask map</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>compressed map</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.catchment1">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">catchment1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirUp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#catchment1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.catchment1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates all cells which belongs to a catchment from point onward</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirUp</strong> – </p></li>
<li><p><strong>points</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subcatchment</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.decompress1">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">decompress1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#decompress1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.decompress1" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompressing map from 1D to 2D with missing values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>map</strong> – compressed map</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>decompressed 2D map</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.defLdd2">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">defLdd2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ldd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#defLdd2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.defLdd2" title="Permalink to this definition">¶</a></dt>
<dd><p>defines river network</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ldd</strong> – river network</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ldd variables</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.dirDownstream">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">dirDownstream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirUp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lddcomp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirDown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#dirDownstream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.dirDownstream" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the river network tree downstream - from source to outlet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirUp</strong> – </p></li>
<li><p><strong>lddcomp</strong> – </p></li>
<li><p><strong>dirDown</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>direction downstream</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.dirUpstream">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">dirUpstream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirshort</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#dirUpstream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.dirUpstream" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the network tree upstream from outlet to source</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dirshort</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>direction upstream</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.downstream1">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">downstream1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirUp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#downstream1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.downstream1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculated 1 cell downstream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirUp</strong> – </p></li>
<li><p><strong>weight</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dowmnstream 1 cell</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.lddrepair">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">lddrepair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lddnp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lddOrder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#lddrepair"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.lddrepair" title="Permalink to this definition">¶</a></dt>
<dd><p>repairs a river network</p>
<ul class="simple">
<li><p>eliminate unsound parts</p></li>
<li><p>add pits at points with no connections</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lddnp</strong> – rivernetwork as 1D array</p></li>
<li><p><strong>lddOrder</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>repaired ldd</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.lddshort">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">lddshort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lddnp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lddOrder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#lddshort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.lddshort" title="Permalink to this definition">¶</a></dt>
<dd><p>return short for calculating a catchment from a river network</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lddnp</strong> – rivernetwork as 1D array</p></li>
<li><p><strong>lddOrder</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>short ldd</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.postorder">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">postorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirUp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catchment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirDown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#postorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.postorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to run a postorder tree traversal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirUp</strong> – </p></li>
<li><p><strong>catchment</strong> – </p></li>
<li><p><strong>node</strong> – </p></li>
<li><p><strong>catch</strong> – </p></li>
<li><p><strong>dirDown</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dirDown and catchment</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.subcatchment1">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">subcatchment1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirUp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#subcatchment1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.subcatchment1" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates subcatchments of points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirUp</strong> – </p></li>
<li><p><strong>points</strong> – </p></li>
<li><p><strong>ups</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subcatchment</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.upstream1">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">upstream1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">downstruct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#upstream1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.upstream1" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates 1 cell upstream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>downstruct</strong> – </p></li>
<li><p><strong>weight</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>upstream 1cell</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.routing_reservoirs.routing_sub.upstreamArea">
<span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.routing_reservoirs.routing_sub.</span></span><span class="sig-name descname"><span class="pre">upstreamArea</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirDown</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirshort</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/routing_reservoirs/routing_sub.html#upstreamArea"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.routing_reservoirs.routing_sub.upstreamArea" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates upstream area</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirDown</strong> – array which point from each cell to the next downstream cell</p></li>
<li><p><strong>dirshort</strong> – </p></li>
<li><p><strong>area</strong> – area in m2 for a single gridcell</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>upstream area</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="hydrology-v-water-balance">
<h2>Hydrology V - Water balance<a class="headerlink" href="#hydrology-v-water-balance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-cwatm.hydrological_modules.waterbalance">
<span id="waterbalance-module"></span><h3>waterbalance module<a class="headerlink" href="#module-cwatm.hydrological_modules.waterbalance" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cwatm.hydrological_modules.waterbalance.</span></span><span class="sig-name descname"><span class="pre">waterbalance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>WATER BALANCE</p>
<ul class="simple">
<li><p>check if water balnace per time step is ok ( = 0)</p></li>
<li><p>produce an annual overview - income, outcome storage</p></li>
</ul>
<p><strong>Global variables</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 73%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable [self.var]</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>storGroundwater</p></td>
<td><p>simulated groundwater storage</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>prestorGroundwater</p></td>
<td><p>storGroundwater at the beginning of each step</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>sum_gwRecharge</p></td>
<td><p>groundwater recharge</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>snowEvap</p></td>
<td><p>total evaporation from snow for a snow layers</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>preSmalllakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smallLakedaycorrect</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smallLakeIn</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>smallevapWaterBody</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smallLakeout</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EvapWaterBodyM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>lakeResInflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeResOutflowM</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>resStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalSto</p></td>
<td><p>Total soil,snow and vegetation storage for each cell including all landcover typ</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>pretotalSto</p></td>
<td><p>Previous totalSto</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>sum_actBareSoilEvap</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_openWaterEvap</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_directRunoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_interflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_capRiseFromGW</p></td>
<td><p>capillar rise from groundwater to 3rd soil layer (summed up for all land cover c</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_act_irrConsumpti</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_perc3toGW</p></td>
<td><p>percolation from 3rd soil layer to groundwater (summed up for all land cover cla</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_prefFlow</p></td>
<td><p>preferential flow from soil to groundwater (summed up for all land cover classes</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>DtSec</p></td>
<td><p>number of seconds per timestep (default = 86400)</p></td>
<td><p>s</p></td>
</tr>
<tr class="row-odd"><td><p>cellArea</p></td>
<td><p>Area of cell</p></td>
<td><p>m2</p></td>
</tr>
<tr class="row-even"><td><p>baseflow</p></td>
<td><p>simulated baseflow (= groundwater discharge to river)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>Precipitation</p></td>
<td><p>Precipitation (input for the model)</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-even"><td><p>lddCompress</p></td>
<td><p>compressed river network (without missing values)</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-odd"><td><p>discharge</p></td>
<td><p>discharge</p></td>
<td><p>m3/s</p></td>
</tr>
<tr class="row-even"><td><p>prelakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>catchmentAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sumsideflow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EvapoChannel</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>prechannelStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>channelStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>runoff</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>gridcell_storage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>nonFossilGroundwater</p></td>
<td><p>groundwater abstraction which is sustainable and not using fossil resources</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>lakeResStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>smalllakeStorage</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_SurfaceWaterAbst</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>addtoevapotrans</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_irrWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>act_nonIrrConsumptio</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>returnFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unmetDemand</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_nonIrrWithdrawal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>returnflowIrr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>nonIrrReturnFlowFrac</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unmet_lost</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>act_totalWaterWithdr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>totalET</p></td>
<td><p>Total evapotranspiration for each cell including all landcover types</p></td>
<td><p>m</p></td>
</tr>
<tr class="row-odd"><td><p>sum_actTransTotal</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_interceptEvap</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>prergridcell</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>nonIrrReturnFlow</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>localQW</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>channelStorageBefore</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sumbalance</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>sum_balanceStore</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sum_balanceFlux</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lakeReservoirStorage</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance.checkWaterSoilGround">
<span class="sig-name descname"><span class="pre">checkWaterSoilGround</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance.checkWaterSoilGround"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance.checkWaterSoilGround" title="Permalink to this definition">¶</a></dt>
<dd><p>Check water balance of snow, vegetation, soil, groundwater</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance.dynamic">
<span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance.dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water balance module
If option <strong>sumWaterBalance</strong> sum water balance for certain variables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance.initial">
<span class="sig-name descname"><span class="pre">initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance.initial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance.initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial part of the water balance module</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance.waterBalanceCheck">
<span class="sig-name descname"><span class="pre">waterBalanceCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fluxesIn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxesOut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preStorages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endStorages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printTrue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance.waterBalanceCheck"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance.waterBalanceCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic part of the water balance module</p>
<p>Returns the water balance for a list of input, output, and storage map files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fluxesIn</strong> – income</p></li>
<li><p><strong>fluxesOut</strong> – this goes out</p></li>
<li><p><strong>preStorages</strong> – this was in before</p></li>
<li><p><strong>endStorages</strong> – this was in afterwards</p></li>
<li><p><strong>processName</strong> – name of the process</p></li>
<li><p><strong>printTrue</strong> – calculate it?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cwatm.hydrological_modules.waterbalance.waterbalance.waterBalanceCheckSum">
<span class="sig-name descname"><span class="pre">waterBalanceCheckSum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fluxesIn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxesOut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preStorages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endStorages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printTrue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cwatm/hydrological_modules/waterbalance.html#waterbalance.waterBalanceCheckSum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cwatm.hydrological_modules.waterbalance.waterbalance.waterBalanceCheckSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the water balance for a list of input, output, and storage map files
and sums it up for a catchment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fluxesIn</strong> – income</p></li>
<li><p><strong>fluxesOut</strong> – this goes out</p></li>
<li><p><strong>preStorages</strong> – this was in before</p></li>
<li><p><strong>endStorages</strong> – this was in afterwards</p></li>
<li><p><strong>processName</strong> – name of the process</p></li>
<li><p><strong>printTrue</strong> – calculate it?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Water balance as output on the screen</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-cwatm.hydrological_modules"></span></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="management_modules.html" class="btn btn-neutral float-right" title="management_modules package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="cwatm_initial.html" class="btn btn-neutral float-left" title="cwatm_initial module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, IIASA Water Security.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>